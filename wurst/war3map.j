//===========================================================================
// 
// |c00FFFFFFSudamerica|r 1.4
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Date: Tue Aug 23 20:24:25 2022
//   Map Author: Machico
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    group                   udg_IncomeGroup            = null
    real                    udg_AfterDamageEvent       = 0
    real                    udg_DamageEvent            = 0
    real                    udg_AOEDamageEvent         = 0
    real                    udg_DamageModifierEvent    = 0
    trigger                 udg_ClearDamageEvent       = null
    real                    udg_DamageEventAmount      = 0
    real                    udg_DamageEventPrevAmt     = 0
    boolean                 udg_DamageEventOverride    = false
    boolean                 udg_NextDamageOverride     = false
    unit                    udg_DamageEventSource      = null
    unit                    udg_DamageEventTarget      = null
    trigger                 udg_DamageEventTrigger     = null
    trigger                 udg_DmgEvTrig              = null
    integer                 udg_DamageEventType        = 0
    integer array           udg_LastDmgPrevType
    integer                 udg_NextDamageType         = 0
    integer                 udg_DamageEventsWasted     = 0
    integer                 udg_DmgEvRecursionN        = 0
    boolean                 udg_DmgEvRunning           = false
    boolean                 udg_DmgEvStarted           = false
    boolean                 udg_IsDamageSpell          = false
    boolean array           udg_LastDmgWasSpell
    real                    udg_LastDamageHP           = 0
    timer                   udg_DmgEvTimer             = null
    real array              udg_LastDmgPrevAmount
    real array              udg_LastDmgValue
    unit array              udg_LastDmgSource
    unit array              udg_LastDmgTarget
    boolean array           udg_HideDamageFrom
    boolean array           udg_UnitDamageRegistered
    unit                    udg_EnhancedDamageTarget   = null
    group                   udg_DamageEventAOEGroup    = null
    integer                 udg_UDex                   = 0
    integer array           udg_UnitIndexLock
    integer array           udg_UDexPrev
    integer array           udg_UDexNext
    real                    udg_UnitIndexEvent         = 0
    unit array              udg_UDexUnits
    integer                 udg_UDexRecycle            = 0
    boolean                 udg_UnitIndexerEnabled     = false
    integer                 udg_UDexWasted             = 0
    integer                 udg_UDexGen                = 0
    integer                 udg_DamageBlockingAbility  = 0
    integer                 udg_SpellDamageAbility     = 0
    integer                 udg_DamageTypeExplosive    = 0
    integer                 udg_DamageTypeCriticalStrike = 0
    integer                 udg_DamageTypeHeal         = 0
    integer                 udg_DamageTypeReduced      = 0
    integer                 udg_DamageTypeBlocked      = 0
    integer                 udg_DmgEvBracers           = 0
    real                    udg_DAMAGE_FACTOR_BRACERS  = 0
    real                    udg_DAMAGE_FACTOR_ELUNES   = 0
    real                    udg_DAMAGE_FACTOR_ETHEREAL = 0
    integer                 udg_DamageEventAOE         = 0
    integer                 udg_DamageEventLevel       = 0
    boolean array           udg_UnitMoving
    string                  udg_AOEString
    integer                 udg_Houses                 = 0
    timer                   udg_Timervar               = null
    string array            udg_Names

    // Generated
    rect                    gg_rct_Amazonas_1          = null
    rect                    gg_rct_Amazonas2           = null
    rect                    gg_rct_Patagonia           = null
    rect                    gg_rct_Rio_amazonas        = null
    rect                    gg_rct_Rio_argentina       = null
    rect                    gg_rct_Rio_chile_1         = null
    rect                    gg_rct_Rio_chile_2         = null
    rect                    gg_rct_Rio_uruarg          = null
    rect                    gg_rct_Rio_patagonia_1     = null
    rect                    gg_rct_Rio_patagonia_2     = null
    rect                    gg_rct_Titicaca            = null
    rect                    gg_rct_Rio_venezuela       = null
    rect                    gg_rct_Punto2              = null
    rect                    gg_rct_Punto4              = null
    rect                    gg_rct_Punto3              = null
    sound                   gg_snd_ArrangedTeamInvitation = null
    sound                   gg_snd_GameFound           = null
    sound                   gg_snd_ItemReceived        = null
    trigger                 gg_trg_Win                 = null
    trigger                 gg_trg_Building_changes_first = null
    trigger                 gg_trg_Building_changes    = null
    trigger                 gg_trg_Building_dies       = null
    trigger                 gg_trg_player_names        = null
    trigger                 gg_trg_Trenchs             = null
    trigger                 gg_trg_Limites             = null
    trigger                 gg_trg_Avandazilla         = null
    trigger                 gg_trg_Destacamento        = null
    trigger                 gg_trg_Quests              = null
    trigger                 gg_trg_Gustav_cannon       = null
    trigger                 gg_trg_bonuses             = null
    trigger                 gg_trg_Trench_fire         = null
    trigger                 gg_trg_Destructor          = null
    trigger                 gg_trg_Mercenaries         = null
    trigger                 gg_trg_rio_bonus           = null
    trigger                 gg_trg_rio_bonus_Flamethrower = null
    trigger                 gg_trg_Flamethrower_victim = null
    trigger                 gg_trg_Flamethrower_antfire = null
    trigger                 gg_trg_Tree                = null
    trigger                 gg_trg_Flamethrower        = null
    trigger                 gg_trg_Cut_off_ration      = null
    trigger                 gg_trg_Naval_carpentry     = null
    trigger                 gg_trg_Conscription        = null
    trigger                 gg_trg_Ecuatorian          = null
    trigger                 gg_trg_Housesandbarracks   = null
    trigger                 gg_trg_Industrias          = null
    trigger                 gg_trg_Granjas             = null
    trigger                 gg_trg_Ascienda            = null
    trigger                 gg_trg_Empresa_leera       = null
    trigger                 gg_trg_Coorporacion_leera  = null
    trigger                 gg_trg_Warfare             = null
    trigger                 gg_trg_Guerilla_tactic     = null
    trigger                 gg_trg_City_a1_Copiar_2    = null
    trigger                 gg_trg_City_a1_Copiar_2_Copiar = null
    trigger                 gg_trg_Resource_Points_Copiar_2 = null
    trigger                 gg_trg_Resource_Points_Copiar = null
    trigger                 gg_trg_Resource_Points_Copiar_Copiar_2_Copiar_2 = null
    trigger                 gg_trg_neutral             = null
    trigger                 gg_trg_ally                = null
    trigger                 gg_trg_unally              = null
    trigger                 gg_trg_dummy               = null
    trigger                 gg_trg_Unit_Indexer        = null
    trigger                 gg_trg_Damage_Engine_Config = null
    trigger                 gg_trg_Damage_Engine       = null
    trigger                 gg_trg_Set_Damage          = null
    trigger                 gg_trg_Damage_Tag          = null
    trigger                 gg_trg_On_AOE              = null
    trigger                 gg_trg_On_Death            = null
    trigger                 gg_trg_Zero_Damage         = null
    trigger                 gg_trg_Debug_Recursion     = null
endglobals

function InitGlobals takes nothing returns nothing
    local integer i = 0
    set udg_IncomeGroup = CreateGroup()
    set udg_AfterDamageEvent = 0
    set udg_DamageEvent = 0
    set udg_AOEDamageEvent = 0
    set udg_DamageModifierEvent = 0
    set udg_DamageEventAmount = 0
    set udg_DamageEventPrevAmt = 0
    set udg_DamageEventOverride = false
    set udg_NextDamageOverride = false
    set udg_DamageEventType = 0
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgPrevType[i] = 0
        set i = i + 1
    endloop

    set udg_NextDamageType = 0
    set udg_DamageEventsWasted = 0
    set udg_DmgEvRecursionN = 0
    set udg_DmgEvRunning = false
    set udg_DmgEvStarted = false
    set udg_IsDamageSpell = false
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgWasSpell[i] = false
        set i = i + 1
    endloop

    set udg_LastDamageHP = 0
    set udg_DmgEvTimer = CreateTimer()
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgPrevAmount[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgValue[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_HideDamageFrom[i] = false
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UnitDamageRegistered[i] = false
        set i = i + 1
    endloop

    set udg_DamageEventAOEGroup = CreateGroup()
    set udg_UDex = 0
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UnitIndexLock[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UDexPrev[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UDexNext[i] = 0
        set i = i + 1
    endloop

    set udg_UnitIndexEvent = 0
    set udg_UDexRecycle = 0
    set udg_UnitIndexerEnabled = false
    set udg_UDexWasted = 0
    set udg_UDexGen = 0
    set udg_DamageTypeExplosive = 0
    set udg_DamageTypeCriticalStrike = 0
    set udg_DamageTypeHeal = 0
    set udg_DamageTypeReduced = 0
    set udg_DamageTypeBlocked = 0
    set udg_DAMAGE_FACTOR_BRACERS = 0
    set udg_DAMAGE_FACTOR_ELUNES = 0
    set udg_DAMAGE_FACTOR_ETHEREAL = 0
    set udg_DamageEventAOE = 0
    set udg_DamageEventLevel = 0
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UnitMoving[i] = false
        set i = i + 1
    endloop

    set udg_AOEString = ""
    set udg_Houses = 0
    set udg_Timervar = CreateTimer()
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_Names[i] = ""
        set i = i + 1
    endloop

endfunction

//***************************************************************************
//*
//*  Sounds
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_ArrangedTeamInvitation = CreateSound( "Sound\\Interface\\ArrangedTeamInvitation.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_ArrangedTeamInvitation, "ArrangedTeamInvitation" )
    call SetSoundDuration( gg_snd_ArrangedTeamInvitation, 2914 )
    set gg_snd_GameFound = CreateSound( "Sound\\Interface\\GameFound.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_GameFound, "GameFound" )
    call SetSoundDuration( gg_snd_GameFound, 7488 )
    set gg_snd_ItemReceived = CreateSound( "Sound\\Interface\\ItemReceived.wav", false, false, false, 10, 10, "" )
    call SetSoundParamsFromLabel( gg_snd_ItemReceived, "ItemReward" )
    call SetSoundDuration( gg_snd_ItemReceived, 1483 )
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateBuildingsForPlayer0 takes nothing returns nothing
    local player p = Player(0)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h005', -2304.0, -2752.0, 270.000 )
    set u = CreateUnit( p, 'h006', -2240.0, -1216.0, 270.000 )
    set u = CreateUnit( p, 'h007', -2240.0, -4160.0, 270.000 )
    set u = CreateUnit( p, 'h00V', -2784.0, -4256.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2400.0, -1120.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2400.0, -1184.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2400.0, -1248.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2208.0, -4320.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2400.0, -1056.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2144.0, -2784.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2144.0, -2848.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2272.0, -2912.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2336.0, -2912.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2464.0, -2720.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2464.0, -1184.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2272.0, -4320.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2336.0, -4320.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2400.0, -4320.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2080.0, -4192.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer1 takes nothing returns nothing
    local player p = Player(1)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h000', 192.0, -1728.0, 270.000 )
    set u = CreateUnit( p, 'h001', -1216.0, -2176.0, 270.000 )
    set u = CreateUnit( p, 'h002', -576.0, -896.0, 270.000 )
    set u = CreateUnit( p, 'h003', -1280.0, -256.0, 270.000 )
    set u = CreateUnit( p, 'h00U', -320.0, -1408.0, 270.000 )
    set u = CreateUnit( p, 'h00U', -1344.0, -832.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1376.0, -2208.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1376.0, -2144.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1376.0, -2080.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1120.0, -2336.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1184.0, -2336.0, 270.000 )
    set u = CreateUnit( p, 'h013', 160.0, -1888.0, 270.000 )
    set u = CreateUnit( p, 'h013', 96.0, -1888.0, 270.000 )
    set u = CreateUnit( p, 'h013', 224.0, -1888.0, 270.000 )
    set u = CreateUnit( p, 'h013', 32.0, -1632.0, 270.000 )
    set u = CreateUnit( p, 'h013', 32.0, -1696.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, -992.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, -928.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, -864.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, -800.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, -736.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1120.0, -352.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1120.0, -288.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1120.0, -224.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1312.0, -416.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1376.0, -416.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer2 takes nothing returns nothing
    local player p = Player(2)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00F', -3776.0, 2624.0, 270.000 )
    set u = CreateUnit( p, 'h00V', -4448.0, 2848.0, 270.000 )
    set u = CreateUnit( p, 'h00Z', -3584.0, 2624.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3936.0, 2592.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3936.0, 2656.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3936.0, 2720.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3936.0, 2528.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3808.0, 2464.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3744.0, 2464.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3744.0, 2784.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3808.0, 2784.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3680.0, 2464.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3680.0, 2784.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer3 takes nothing returns nothing
    local player p = Player(3)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00C', -3840.0, 128.0, 270.000 )
    set u = CreateUnit( p, 'h00D', -4288.0, 1856.0, 270.000 )
    set u = CreateUnit( p, 'h00E', -2880.0, -512.0, 270.000 )
    set u = CreateUnit( p, 'h00V', -4384.0, 1440.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3680.0, 32.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3680.0, 96.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3808.0, -32.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3872.0, -32.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4000.0, 96.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4320.0, 1696.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4256.0, 1696.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4448.0, 1760.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4448.0, 1888.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4448.0, 1824.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2912.0, -352.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2976.0, -352.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2784.0, -672.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2848.0, -672.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3040.0, -352.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer4 takes nothing returns nothing
    local player p = Player(4)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00G', -2432.0, 3648.0, 270.000 )
    set u = CreateUnit( p, 'h00H', -2496.0, 4864.0, 270.000 )
    set u = CreateUnit( p, 'h00I', -3840.0, 3968.0, 270.000 )
    set u = CreateUnit( p, 'h00V', -3040.0, 3232.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2592.0, 3616.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2592.0, 3680.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2592.0, 3744.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2272.0, 3552.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2272.0, 3616.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3680.0, 3872.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3680.0, 3936.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4000.0, 3872.0, 270.000 )
    set u = CreateUnit( p, 'h013', -4000.0, 3936.0, 270.000 )
    set u = CreateUnit( p, 'h013', -3808.0, 4128.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2656.0, 4768.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2656.0, 4832.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2336.0, 4832.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2336.0, 4768.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2336.0, 4896.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer5 takes nothing returns nothing
    local player p = Player(5)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00J', 1280.0, 3776.0, 270.000 )
    set u = CreateUnit( p, 'h00K', -64.0, 4480.0, 270.000 )
    set u = CreateUnit( p, 'h00L', -1280.0, 4736.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1120.0, 4640.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1120.0, 4704.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1440.0, 4704.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1440.0, 4768.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1440.0, 4640.0, 270.000 )
    set u = CreateUnit( p, 'h013', -224.0, 4448.0, 270.000 )
    set u = CreateUnit( p, 'h013', -224.0, 4512.0, 270.000 )
    set u = CreateUnit( p, 'h013', 96.0, 4384.0, 270.000 )
    set u = CreateUnit( p, 'h013', 96.0, 4448.0, 270.000 )
    set u = CreateUnit( p, 'h013', 96.0, 4512.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1440.0, 3680.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1440.0, 3744.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1440.0, 3808.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1120.0, 3744.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1120.0, 3808.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer6 takes nothing returns nothing
    local player p = Player(6)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00N', 1728.0, -64.0, 270.000 )
    set u = CreateUnit( p, 'h00O', 2496.0, 576.0, 270.000 )
    set u = CreateUnit( p, 'h00P', 1920.0, 1536.0, 270.000 )
    set u = CreateUnit( p, 'h00Q', 3264.0, 1984.0, 270.000 )
    set u = CreateUnit( p, 'h00P', 1664.0, 2752.0, 270.000 )
    set u = CreateUnit( p, 'h013', 3104.0, 1952.0, 270.000 )
    set u = CreateUnit( p, 'h013', 3104.0, 2016.0, 270.000 )
    set u = CreateUnit( p, 'h013', 3104.0, 2080.0, 270.000 )
    set u = CreateUnit( p, 'h013', 3296.0, 1824.0, 270.000 )
    set u = CreateUnit( p, 'h013', 3232.0, 1824.0, 270.000 )
    set u = CreateUnit( p, 'h013', 2336.0, 544.0, 270.000 )
    set u = CreateUnit( p, 'h013', 2336.0, 608.0, 270.000 )
    set u = CreateUnit( p, 'h013', 2464.0, 416.0, 270.000 )
    set u = CreateUnit( p, 'h013', 2528.0, 416.0, 270.000 )
    set u = CreateUnit( p, 'h013', 2400.0, 416.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1568.0, -96.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1568.0, -32.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1568.0, 32.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1760.0, -224.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1696.0, -224.0, 270.000 )
    set u = CreateUnit( p, 'h013', 2016.0, 1376.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1952.0, 1376.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1888.0, 1376.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1760.0, 1632.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1760.0, 1568.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1696.0, 2592.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1632.0, 2592.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1824.0, 2720.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1824.0, 2784.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1760.0, 2912.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer7 takes nothing returns nothing
    local player p = Player(7)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h008', -896.0, 896.0, 270.000 )
    set u = CreateUnit( p, 'h009', -192.0, 448.0, 270.000 )
    set u = CreateUnit( p, 'h010', -1056.0, 672.0, 270.000 )
    set u = CreateUnit( p, 'h013', -352.0, 416.0, 270.000 )
    set u = CreateUnit( p, 'h013', -352.0, 480.0, 270.000 )
    set u = CreateUnit( p, 'h013', -352.0, 544.0, 270.000 )
    set u = CreateUnit( p, 'h013', -160.0, 608.0, 270.000 )
    set u = CreateUnit( p, 'h013', -224.0, 608.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, 800.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, 864.0, 270.000 )
    set u = CreateUnit( p, 'h013', -736.0, 928.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1056.0, 864.0, 270.000 )
    set u = CreateUnit( p, 'h013', -1056.0, 928.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer9 takes nothing returns nothing
    local player p = Player(9)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00M', 1088.0, -1216.0, 270.000 )
    set u = CreateUnit( p, 'h00V', 1504.0, -1312.0, 270.000 )
    set u = CreateUnit( p, 'h00V', 672.0, -1312.0, 270.000 )
    set u = CreateUnit( p, 'h00V', 32.0, -544.0, 270.000 )
    set u = CreateUnit( p, 'h00Z', 640.0, -768.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1120.0, -1376.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1056.0, -1376.0, 270.000 )
    set u = CreateUnit( p, 'h013', 992.0, -1376.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1248.0, -1312.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1248.0, -1248.0, 270.000 )
    set u = CreateUnit( p, 'h013', 1248.0, -1184.0, 270.000 )
    set u = CreateUnit( p, 'h013', 928.0, -1248.0, 270.000 )
    set u = CreateUnit( p, 'h013', 928.0, -1184.0, 270.000 )
    set u = CreateUnit( p, 'h013', 928.0, -1120.0, 270.000 )
    set u = CreateUnit( p, 'h013', 864.0, -1184.0, 270.000 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer10 takes nothing returns nothing
    local player p = Player(10)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h004', -640.0, -4096.0, 270.000 )
    set u = CreateUnit( p, 'h004', -1216.0, -3456.0, 270.000 )
    set u = CreateUnit( p, 'h004', -1600.0, -4864.0, 270.000 )
    set u = CreateUnit( p, 'h004', -64.0, -5440.0, 270.000 )
    set u = CreateUnit( p, 'h004', -1024.0, 2048.0, 270.000 )
    set u = CreateUnit( p, 'h004', -2688.0, 1920.0, 270.000 )
    set u = CreateUnit( p, 'h004', -768.0, 2880.0, 270.000 )
    set u = CreateUnit( p, 'h004', 128.0, 1344.0, 270.000 )
    set u = CreateUnit( p, 'h004', 512.0, 3072.0, 270.000 )
    set u = CreateUnit( p, 'h004', 704.0, 1856.0, 270.000 )
    set u = CreateUnit( p, 'h004', -1728.0, 768.0, 270.000 )
    set u = CreateUnit( p, 'h02Q', 1280.0, -4480.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer10 takes nothing returns nothing
    local player p = Player(10)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h014', 496.5, 1721.7, 343.718 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 553.0, 1664.0, 157.098 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -1662.0, -4724.3, 76.033 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 609.3, 1660.0, 201.605 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -102.3, 1275.5, 343.718 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -45.8, 1217.8, 157.098 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 10.5, 1213.7, 201.605 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -1021.8, -3464.5, 343.718 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -446.1, -5556.7, 110.223 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -396.2, -5501.2, 112.250 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -1613.5, -4717.8, 84.513 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -876.3, 2002.3, 323.451 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -827.1, 2003.6, 299.191 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -754.9, 2003.6, 240.716 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -965.2, -3522.2, 157.098 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -909.0, -3526.2, 201.605 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 285.9, 2776.6, 343.718 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 342.5, 2718.9, 157.098 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 398.7, 2714.8, 201.605 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -771.4, 3036.1, 71.143 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -681.6, 3024.6, 97.338 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -630.6, 3017.0, 110.355 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -1571.1, -4717.8, 92.387 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -2954.5, 1940.8, 76.033 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -2905.9, 1947.3, 84.513 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -2863.6, 1947.3, 92.387 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 5.9, 1525.6, 48.893 )
    set u = CreateUnit( p, 'h014', 45.3, 1525.6, 60.569 )
    set u = CreateUnit( p, 'h014', 69.0, 1525.6, 69.235 )
    set u = CreateUnit( p, 'h014', 80.1, 1525.6, 73.679 )
    set u = CreateUnit( p, 'h014', 107.3, 1517.8, 85.711 )
    set u = CreateUnit( p, 'h014', 129.7, 1512.0, 94.909 )
    set u = CreateUnit( p, 'h014', 86.2, 1504.3, 78.142 )
    set u = CreateUnit( p, 'h014', 62.4, 1508.2, 69.235 )
    set u = CreateUnit( p, 'h014', 39.8, 1515.9, 60.553 )
    set u = CreateUnit( p, 'h014', 25.7, 1515.9, 56.280 )
    set u = CreateUnit( p, 'h014', 528.6, 1781.0, 205.278 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 494.8, 1813.7, 249.084 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', 477.6, 1830.3, 265.865 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -676.9, 3067.6, 101.005 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -702.7, 3076.6, 91.789 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -726.7, 3076.6, 82.467 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -735.4, 3067.6, 79.796 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -2901.2, 1898.6, 84.513 )
    call SetUnitAcquireRange( u, 200.0 )
    set u = CreateUnit( p, 'h014', -2949.8, 1892.1, 76.033 )
    call SetUnitAcquireRange( u, 200.0 )
endfunction

//===========================================================================
function CreateBuildingsForPlayer11 takes nothing returns nothing
    local player p = Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00A', -2496.0, 960.0, 270.000 )
    set u = CreateUnit( p, 'h00B', -2048.0, 64.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2464.0, 800.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2528.0, 800.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2592.0, 800.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2528.0, 736.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2464.0, 736.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2208.0, 32.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2208.0, 96.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2208.0, 160.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2272.0, 96.0, 270.000 )
    set u = CreateUnit( p, 'h013', -2272.0, 160.0, 270.000 )
endfunction

//===========================================================================
function CreateUnitsForPlayer11 takes nothing returns nothing
    local player p = Player(11)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h00R', -2579.8, 675.1, 287.359 )
    set u = CreateUnit( p, 'h00R', -2513.5, 668.2, 270.851 )
    set u = CreateUnit( p, 'h01C', -2524.6, 604.1, 275.413 )
    set u = CreateUnit( p, 'h01C', -2597.7, 604.1, 300.006 )
    set u = CreateUnit( p, 'h01C', -2430.9, 604.1, 242.327 )
    set u = CreateUnit( p, 'h01C', -2435.2, 649.4, 249.087 )
endfunction

//===========================================================================
function CreateNeutralPassiveBuildings takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = CreateUnit( p, 'h02P', 5184.0, -1216.0, 270.000 )
    call SetResourceAmount( u, 12500 )
    set u = CreateUnit( p, 'h02P', -5120.0, -4224.0, 270.000 )
    call SetResourceAmount( u, 12500 )
    set u = CreateUnit( p, 'h02P', 5184.0, 4928.0, 270.000 )
    call SetResourceAmount( u, 12500 )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
    call CreateBuildingsForPlayer0(  )
    call CreateBuildingsForPlayer1(  )
    call CreateBuildingsForPlayer2(  )
    call CreateBuildingsForPlayer3(  )
    call CreateBuildingsForPlayer4(  )
    call CreateBuildingsForPlayer5(  )
    call CreateBuildingsForPlayer6(  )
    call CreateBuildingsForPlayer7(  )
    call CreateBuildingsForPlayer9(  )
    call CreateBuildingsForPlayer10(  )
    call CreateBuildingsForPlayer11(  )
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer10(  )
    call CreateUnitsForPlayer11(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreateNeutralPassiveBuildings(  )
    call CreatePlayerBuildings(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_Amazonas_1 = Rect( -2624.0, 1408.0, 1024.0, 3168.0 )
    set gg_rct_Amazonas2 = Rect( -736.0, 3136.0, 416.0, 3840.0 )
    set gg_rct_Patagonia = Rect( -3424.0, -5920.0, 864.0, -2912.0 )
    set gg_rct_Rio_amazonas = Rect( -2240.0, 2016.0, -1632.0, 2240.0 )
    set gg_rct_Rio_argentina = Rect( -864.0, -2208.0, -704.0, -1920.0 )
    set gg_rct_Rio_chile_1 = Rect( -2752.0, -1984.0, -2496.0, -1728.0 )
    set gg_rct_Rio_chile_2 = Rect( -2848.0, -2112.0, -2624.0, -1856.0 )
    set gg_rct_Rio_uruarg = Rect( -224.0, -288.0, -32.0, 32.0 )
    set gg_rct_Rio_patagonia_1 = Rect( -640.0, -5376.0, -32.0, -4576.0 )
    set gg_rct_Rio_patagonia_2 = Rect( -992.0, -4928.0, -608.0, -4704.0 )
    set gg_rct_Titicaca = Rect( -2336.0, 320.0, -1728.0, 896.0 )
    set gg_rct_Rio_venezuela = Rect( -864.0, 4128.0, -736.0, 4288.0 )
    set gg_rct_Punto2 = Rect( -5280.0, -4256.0, -4992.0, -3968.0 )
    set gg_rct_Punto4 = Rect( 5056.0, 4864.0, 5344.0, 5152.0 )
    set gg_rct_Punto3 = Rect( 5056.0, -1248.0, 5344.0, -960.0 )
endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Win
//===========================================================================
function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func005A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(11) )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(9) )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(7) )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(6) )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(5) )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func001Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(4) )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func001Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func001Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(3) )
endfunction

function Trig_Win_Func001Func001Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(2) )
endfunction

function Trig_Win_Func001Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(1) )
endfunction

function Trig_Win_Func001Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func007001001002002001(), Trig_Win_Func001Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func001Func007001001002001(), Trig_Win_Func001Func001Func007001001002002() )
endfunction

function Trig_Win_Func001Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Func001Func006A takes nothing returns nothing
    call CreateFogModifierRectBJ( true, GetEnumPlayer(), FOG_OF_WAR_VISIBLE, GetPlayableMapRect() )
endfunction

function Trig_Win_Func001Func007001001002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_STRUCTURE) == true )
endfunction

function Trig_Win_Func001Func007001001002002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Win_Func001Func007001001002002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == Player(0) )
endfunction

function Trig_Win_Func001Func007001001002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func007001001002002001(), Trig_Win_Func001Func007001001002002002() )
endfunction

function Trig_Win_Func001Func007001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Win_Func001Func007001001002001(), Trig_Win_Func001Func007001001002002() )
endfunction

function Trig_Win_Func001C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Win_Func001Func007001001002))) >= 42 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Win_Actions takes nothing returns nothing
    if ( Trig_Win_Func001C() ) then
        call PauseAllUnitsBJ( true )
        call FogEnableOff(  )
        call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[1] + " es el vencedor." ) )
        call PlaySoundBJ( gg_snd_GameFound )
        call ForForce( GetPlayersAll(), function Trig_Win_Func001Func006A )
    else
        if ( Trig_Win_Func001Func001C() ) then
            call PauseAllUnitsBJ( true )
            call FogEnableOff(  )
            call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[2] + " es el vencedor." ) )
            call PlaySoundBJ( gg_snd_GameFound )
            call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func006A )
        else
            if ( Trig_Win_Func001Func001Func001C() ) then
                call PauseAllUnitsBJ( true )
                call FogEnableOff(  )
                call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[3] + " es el vencedor." ) )
                call PlaySoundBJ( gg_snd_GameFound )
                call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func006A )
            else
                if ( Trig_Win_Func001Func001Func001Func001C() ) then
                    call PauseAllUnitsBJ( true )
                    call FogEnableOff(  )
                    call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[4] + " es el vencedor." ) )
                    call PlaySoundBJ( gg_snd_GameFound )
                    call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func001Func006A )
                else
                    if ( Trig_Win_Func001Func001Func001Func001Func001C() ) then
                        call PauseAllUnitsBJ( true )
                        call FogEnableOff(  )
                        call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[5] + " es el vencedor." ) )
                        call PlaySoundBJ( gg_snd_GameFound )
                        call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func001Func001Func006A )
                    else
                        if ( Trig_Win_Func001Func001Func001Func001Func001Func001C() ) then
                            call PauseAllUnitsBJ( true )
                            call FogEnableOff(  )
                            call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[6] + " es el vencedor." ) )
                            call PlaySoundBJ( gg_snd_GameFound )
                            call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func001Func001Func001Func006A )
                        else
                            if ( Trig_Win_Func001Func001Func001Func001Func001Func001Func001C() ) then
                                call PauseAllUnitsBJ( true )
                                call FogEnableOff(  )
                                call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[7] + " es el vencedor." ) )
                                call PlaySoundBJ( gg_snd_GameFound )
                                call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func006A )
                            else
                                if ( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001C() ) then
                                    call PauseAllUnitsBJ( true )
                                    call FogEnableOff(  )
                                    call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[8] + " es el vencedor." ) )
                                    call PlaySoundBJ( gg_snd_GameFound )
                                    call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func006A )
                                else
                                    if ( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001C() ) then
                                        call PauseAllUnitsBJ( true )
                                        call FogEnableOff(  )
                                        call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[9] + " es el vencedor." ) )
                                        call PlaySoundBJ( gg_snd_GameFound )
                                        call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func006A )
                                    else
                                        if ( Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C() ) then
                                            call PauseAllUnitsBJ( true )
                                            call FogEnableOff(  )
                                            call DisplayTimedTextToForce( GetPlayersAll(), 100000000.00, ( udg_Names[10] + " es el vencedor." ) )
                                            call PlaySoundBJ( gg_snd_GameFound )
                                            call ForForce( GetPlayersAll(), function Trig_Win_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func005A )
                                        else
                                        endif
                                    endif
                                endif
                            endif
                        endif
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Win takes nothing returns nothing
    set gg_trg_Win = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Win, udg_Timervar )
    call TriggerAddAction( gg_trg_Win, function Trig_Win_Actions )
endfunction

//===========================================================================
// Trigger: Building changes first
//===========================================================================
function Trig_Building_changes_first_Func001Func001Func001Func002C takes nothing returns boolean
    if ( ( RectContainsLoc(gg_rct_Amazonas_1, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return true
    endif
    if ( ( RectContainsLoc(gg_rct_Amazonas2, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Building_changes_first_Func001Func001Func001Func003C takes nothing returns boolean
    if ( not ( RectContainsLoc(gg_rct_Patagonia, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_first_Func001Func001Func001C takes nothing returns boolean
    if ( not Trig_Building_changes_first_Func001Func001Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_first_Func001Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnumUnit()) == 'h00U' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_first_Func001A takes nothing returns nothing
    if ( Trig_Building_changes_first_Func001Func001C() ) then
        if ( Trig_Building_changes_first_Func001Func001Func001C() ) then
            call SetTerrainTypeBJ( GetUnitLoc(GetEnumUnit()), 'Ldrg', -1, 2, 0 )
        else
            if ( Trig_Building_changes_first_Func001Func001Func001Func003C() ) then
                call SetTerrainTypeBJ( GetUnitLoc(GetEnumUnit()), 'Wsng', -1, 2, 0 )
            else
                call SetTerrainTypeBJ( GetUnitLoc(GetEnumUnit()), 'Ldrg', -1, 2, 0 )
            endif
        endif
    else
        call DoNothing(  )
    endif
endfunction

function Trig_Building_changes_first_Func002Func001Func001Func002C takes nothing returns boolean
    if ( ( RectContainsLoc(gg_rct_Amazonas_1, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return true
    endif
    if ( ( RectContainsLoc(gg_rct_Amazonas2, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Building_changes_first_Func002Func001Func001Func003C takes nothing returns boolean
    if ( not ( RectContainsLoc(gg_rct_Patagonia, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_first_Func002Func001Func001C takes nothing returns boolean
    if ( not Trig_Building_changes_first_Func002Func001Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_first_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetEnumUnit()) == 'h00V' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_first_Func002A takes nothing returns nothing
    if ( Trig_Building_changes_first_Func002Func001C() ) then
        if ( Trig_Building_changes_first_Func002Func001Func001C() ) then
            call SetTerrainTypeBJ( GetUnitLoc(GetEnumUnit()), 'Vcrp', -1, 1, 0 )
        else
            if ( Trig_Building_changes_first_Func002Func001Func001Func003C() ) then
                call SetTerrainTypeBJ( GetUnitLoc(GetEnumUnit()), 'Wsng', -1, 1, 0 )
            else
                call SetTerrainTypeBJ( GetUnitLoc(GetEnumUnit()), 'Qcrp', -1, 1, 0 )
            endif
        endif
    else
        call DoNothing(  )
    endif
endfunction

function Trig_Building_changes_first_Actions takes nothing returns nothing
    call ForGroupBJ( GetUnitsInRectAll(GetPlayableMapRect()), function Trig_Building_changes_first_Func001A )
    call ForGroupBJ( GetUnitsInRectAll(GetPlayableMapRect()), function Trig_Building_changes_first_Func002A )
endfunction

//===========================================================================
function InitTrig_Building_changes_first takes nothing returns nothing
    set gg_trg_Building_changes_first = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Building_changes_first, function Trig_Building_changes_first_Actions )
endfunction

//===========================================================================
// Trigger: Building changes
//===========================================================================
function Trig_Building_changes_Func001Func001Func002C takes nothing returns boolean
    if ( ( RectContainsLoc(gg_rct_Amazonas_1, GetUnitLoc(GetConstructedStructure())) == true ) ) then
        return true
    endif
    if ( ( RectContainsLoc(gg_rct_Amazonas2, GetUnitLoc(GetConstructedStructure())) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Building_changes_Func001Func001Func003C takes nothing returns boolean
    if ( not ( RectContainsLoc(gg_rct_Patagonia, GetUnitLoc(GetConstructedStructure())) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func001Func001C takes nothing returns boolean
    if ( not Trig_Building_changes_Func001Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'h00U' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func002Func001Func002C takes nothing returns boolean
    if ( ( RectContainsLoc(gg_rct_Amazonas_1, GetUnitLoc(GetConstructedStructure())) == true ) ) then
        return true
    endif
    if ( ( RectContainsLoc(gg_rct_Amazonas2, GetUnitLoc(GetConstructedStructure())) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Building_changes_Func002Func001Func003C takes nothing returns boolean
    if ( not ( RectContainsLoc(gg_rct_Patagonia, GetUnitLoc(GetConstructedStructure())) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func002Func001C takes nothing returns boolean
    if ( not Trig_Building_changes_Func002Func001Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'h00V' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func003Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetConstructedStructure()) == 'h021' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetConstructedStructure()) == 'h010' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Building_changes_Func003C takes nothing returns boolean
    if ( not Trig_Building_changes_Func003Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func004C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'h01E' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Func005C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetConstructedStructure()) == 'o001' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_changes_Actions takes nothing returns nothing
    if ( Trig_Building_changes_Func001C() ) then
        if ( Trig_Building_changes_Func001Func001C() ) then
            call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Ldrg', -1, 2, 0 )
        else
            if ( Trig_Building_changes_Func001Func001Func003C() ) then
                call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Wsng', -1, 2, 0 )
            else
                call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Ldrg', -1, 2, 0 )
            endif
        endif
    else
        call DoNothing(  )
    endif
    if ( Trig_Building_changes_Func002C() ) then
        if ( Trig_Building_changes_Func002Func001C() ) then
            call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Vcrp', -1, 1, 0 )
        else
            if ( Trig_Building_changes_Func002Func001Func003C() ) then
                call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Wsng', -1, 1, 0 )
            else
                call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Qcrp', -1, 1, 0 )
            endif
        endif
    else
        call DoNothing(  )
    endif
    if ( Trig_Building_changes_Func003C() ) then
        call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Adrd', -1, 1, 0 )
    else
        call DoNothing(  )
    endif
    if ( Trig_Building_changes_Func004C() ) then
        call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Ldrt', -1, 1, 0 )
    else
        call DoNothing(  )
    endif
    if ( Trig_Building_changes_Func005C() ) then
        call AddSpecialEffectLocBJ( GetUnitLoc(GetConstructedStructure()), "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl" )
        call AddSpecialEffectLocBJ( GetUnitLoc(GetConstructedStructure()), "Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl" )
        call SetTerrainTypeBJ( GetUnitLoc(GetConstructedStructure()), 'Ldrt', -1, 2, 0 )
        call TerrainDeformationCraterBJ( 0.5, true, GetUnitLoc(GetConstructedStructure()), 100.00, 64 )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Building_changes takes nothing returns nothing
    set gg_trg_Building_changes = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Building_changes, EVENT_PLAYER_UNIT_CONSTRUCT_FINISH )
    call TriggerAddAction( gg_trg_Building_changes, function Trig_Building_changes_Actions )
endfunction

//===========================================================================
// Trigger: Building dies
//===========================================================================
function Trig_Building_dies_Func001Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h00U' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_dies_Func001C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h00V' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Building_dies_Actions takes nothing returns nothing
    if ( Trig_Building_dies_Func001C() ) then
        call SetTerrainTypeBJ( GetUnitLoc(GetTriggerUnit()), 'Vdrr', -1, 1, 0 )
    else
        if ( Trig_Building_dies_Func001Func001C() ) then
            call SetTerrainTypeBJ( GetUnitLoc(GetTriggerUnit()), 'Vdrr', -1, 2, 0 )
        else
            call DoNothing(  )
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Building_dies takes nothing returns nothing
    set gg_trg_Building_dies = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Building_dies, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Building_dies, function Trig_Building_dies_Actions )
endfunction

//===========================================================================
// Trigger: Gustav cannon
//===========================================================================
function Trig_Gustav_cannon_Func001Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h022' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Gustav_cannon_Func001Func005C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02J' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02K' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Gustav_cannon_Func001C takes nothing returns boolean
    if ( not Trig_Gustav_cannon_Func001Func001C() ) then
        return false
    endif
    if ( not Trig_Gustav_cannon_Func001Func005C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gustav_cannon_Func002Func006C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02A' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Gustav_cannon_Func002C takes nothing returns boolean
    if ( not Trig_Gustav_cannon_Func002Func006C() ) then
        return false
    endif
    return true
endfunction

function Trig_Gustav_cannon_Actions takes nothing returns nothing
    if ( Trig_Gustav_cannon_Func001C() ) then
        call AddSpecialEffectLocBJ( GetUnitLoc(udg_DamageEventTarget), "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" )
        call AddSpecialEffectLocBJ( GetUnitLoc(udg_DamageEventTarget), "Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl" )
    else
        call DoNothing(  )
    endif
    if ( Trig_Gustav_cannon_Func002C() ) then
        call AddSpecialEffectLocBJ( GetUnitLoc(udg_DamageEventTarget), "Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl" )
        call AddSpecialEffectLocBJ( GetUnitLoc(udg_DamageEventTarget), "Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl" )
        call SetTerrainTypeBJ( GetUnitLoc(udg_DamageEventTarget), 'Ldrt', -1, 2, 0 )
        call TerrainDeformationCraterBJ( 0.5, true, GetUnitLoc(udg_DamageEventTarget), 100.00, 85.00 )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Gustav_cannon takes nothing returns nothing
    set gg_trg_Gustav_cannon = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_Gustav_cannon, "udg_AOEDamageEvent", EQUAL, 1.00 )
    call TriggerAddAction( gg_trg_Gustav_cannon, function Trig_Gustav_cannon_Actions )
endfunction

//===========================================================================
// Trigger: bonuses
//===========================================================================
function Trig_bonuses_Func001Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o005' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func001Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h026' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func001C takes nothing returns boolean
    if ( not Trig_bonuses_Func001Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func001Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func002Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o004' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func002Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02N' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h023' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h026' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h00Y' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01A' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func002C takes nothing returns boolean
    if ( not Trig_bonuses_Func002Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func002Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func003Func003C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o002' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func003Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02D' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02C' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01Z' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01W' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h019' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func003C takes nothing returns boolean
    if ( not Trig_bonuses_Func003Func003C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func003Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func004Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01H' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01O' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01J' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func004C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'h02C' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func004Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func005C takes nothing returns boolean
    if ( not ( IsUnitType(udg_DamageEventTarget, UNIT_TYPE_STRUCTURE) == true ) ) then
        return false
    endif
    if ( not ( IsUnitType(udg_DamageEventTarget, UNIT_TYPE_ANCIENT) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func006Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02L' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func006Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02N' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h023' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func006C takes nothing returns boolean
    if ( not Trig_bonuses_Func006Func002C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func006Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func007Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02N' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func007Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02L' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02A' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func007C takes nothing returns boolean
    if ( not Trig_bonuses_Func007Func002C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func007Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func008Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02M' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func008Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02J' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02K' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02L' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func008C takes nothing returns boolean
    if ( not Trig_bonuses_Func008Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func008Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func009Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02A' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func009Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02L' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h026' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func009C takes nothing returns boolean
    if ( not Trig_bonuses_Func009Func002C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func009Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func010Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02A' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func010Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02J' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02K' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func010C takes nothing returns boolean
    if ( not Trig_bonuses_Func010Func002C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func010Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func011Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02J' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02K' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02L' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func011Func004Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02I' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h024' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02B' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01H' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h022' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01G' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02C' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o002' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o000' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o003' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o004' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func011Func004C takes nothing returns boolean
    if ( Trig_bonuses_Func011Func004Func001C() ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func011C takes nothing returns boolean
    if ( not Trig_bonuses_Func011Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func011Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func012Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02J' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func012Func004C takes nothing returns boolean
    if ( ( IsUnitType(udg_DamageEventTarget, UNIT_TYPE_STRUCTURE) == false ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) != 'h02J' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func012C takes nothing returns boolean
    if ( not Trig_bonuses_Func012Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func012Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func013Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o000' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o002' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o005' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o003' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o004' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func013Func004Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02I' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01I' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01J' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01Y' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01R' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h016' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01T' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h014' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00T' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h020' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h024' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00W' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func013Func004C takes nothing returns boolean
    if ( Trig_bonuses_Func013Func004Func001C() ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func013C takes nothing returns boolean
    if ( not Trig_bonuses_Func013Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func013Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func014Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o001' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func014Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01G' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02C' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01H' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02B' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o000' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func014C takes nothing returns boolean
    if ( not Trig_bonuses_Func014Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func014Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func015Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'o001' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func015Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func015C takes nothing returns boolean
    if ( not Trig_bonuses_Func015Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func015Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func016Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func016C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'h01P' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func016Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func017Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02H' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01G' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01K' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func017Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02D' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02C' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h00X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01Z' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h019' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01W' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func017C takes nothing returns boolean
    if ( not Trig_bonuses_Func017Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func017Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func018Func003C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02H' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01G' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02V' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01K' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func018Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func018C takes nothing returns boolean
    if ( not Trig_bonuses_Func018Func003C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func018Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func019Func005C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h00R' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01N' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h014' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01T' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h02V' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func019C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'h024' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'h02C' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func019Func005C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func020Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func020C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'h01H' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func020Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func021Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02B' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o003' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o004' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func021C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'h00X' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func021Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func022Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func022C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'h01O' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func022Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func023Func004C takes nothing returns boolean
    if ( ( IsUnitType(udg_DamageEventTarget, UNIT_TYPE_STRUCTURE) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func023C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'h01Z' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func023Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func024Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01T' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h014' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func024Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h00R' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01N' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func024C takes nothing returns boolean
    if ( not Trig_bonuses_Func024Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func024Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func025Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01T' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h014' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func025Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01I' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01J' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01Y' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01R' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h016' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01T' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h014' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00T' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h020' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00W' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func025C takes nothing returns boolean
    if ( not Trig_bonuses_Func025Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func025Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func026Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01Y' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func026Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h00T' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func026C takes nothing returns boolean
    if ( not Trig_bonuses_Func026Func001C() ) then
        return false
    endif
    if ( not Trig_bonuses_Func026Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func027Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01U' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01O' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01Z' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01Y' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01W' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01R' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h020' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventTarget) == 'h01V' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func027C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'h01R' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func027Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Func028Func004C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00W' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h020' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01S' ) ) then
        return true
    endif
    return false
endfunction

function Trig_bonuses_Func028C takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'h016' ) ) then
        return false
    endif
    if ( not Trig_bonuses_Func028Func004C() ) then
        return false
    endif
    return true
endfunction

function Trig_bonuses_Actions takes nothing returns nothing
    if ( Trig_bonuses_Func001C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.30 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func002C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.15 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func003C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.50 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func004C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 1.50 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func005C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.50 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func006C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.15 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func007C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 3.00 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func008C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.10 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func009C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 5.00 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func010C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 30.00 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func011C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.70 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func012C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.80 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func013C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.80 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func014C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.50 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func015C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.10 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func016C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.95 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func017C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 1.80 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func018C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.90 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func019C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 1.50 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func020C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.85 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func021C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.50 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func022C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.90 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func023C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 1.20 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func024C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 1.25 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func025C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.85 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func026C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 1.50 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func027C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 1.20 )
    else
        call DoNothing(  )
    endif
    if ( Trig_bonuses_Func028C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.90 )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_bonuses takes nothing returns nothing
    set gg_trg_bonuses = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_bonuses, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddAction( gg_trg_bonuses, function Trig_bonuses_Actions )
endfunction

//===========================================================================
// Trigger: Trench fire
//===========================================================================
function Trig_Trench_fire_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'o005' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'o001' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Trench_fire_Actions takes nothing returns nothing
    call IssueImmediateOrderBJ( udg_DamageEventTarget, "standdown" )
    call CreateTextTagLocBJ( "TRIGSTR_1836", GetUnitLoc(udg_DamageEventTarget), 0, 10.00, 100, 100, 0.00, 0 )
    call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
    call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
    call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
    call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
endfunction

//===========================================================================
function InitTrig_Trench_fire takes nothing returns nothing
    set gg_trg_Trench_fire = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_Trench_fire, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_Trench_fire, Condition( function Trig_Trench_fire_Conditions ) )
    call TriggerAddAction( gg_trg_Trench_fire, function Trig_Trench_fire_Actions )
endfunction

//===========================================================================
// Trigger: rio bonus
//===========================================================================
function Trig_rio_bonus_Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o000' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o002' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01H' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h02B' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01G' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h00S' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h015' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01X' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h012' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01P' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01O' ) ) then
        return true
    endif
    return false
endfunction

function Trig_rio_bonus_Conditions takes nothing returns boolean
    if ( not Trig_rio_bonus_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_rio_bonus_Func001Func003C takes nothing returns boolean
    if ( ( RectContainsUnit(gg_rct_Rio_amazonas, udg_DamageEventSource) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_argentina, udg_DamageEventSource) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_chile_1, udg_DamageEventSource) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_chile_2, udg_DamageEventSource) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_patagonia_1, udg_DamageEventSource) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_patagonia_2, udg_DamageEventSource) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_venezuela, udg_DamageEventSource) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_rio_bonus_Func001C takes nothing returns boolean
    if ( not Trig_rio_bonus_Func001Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_rio_bonus_Actions takes nothing returns nothing
    if ( Trig_rio_bonus_Func001C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.50 )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_rio_bonus takes nothing returns nothing
    set gg_trg_rio_bonus = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_rio_bonus, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_rio_bonus, Condition( function Trig_rio_bonus_Conditions ) )
    call TriggerAddAction( gg_trg_rio_bonus, function Trig_rio_bonus_Actions )
endfunction

//===========================================================================
// Trigger: rio bonus Flamethrower
//===========================================================================
function Trig_rio_bonus_Flamethrower_Func002C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'o005' ) ) then
        return true
    endif
    return false
endfunction

function Trig_rio_bonus_Flamethrower_Conditions takes nothing returns boolean
    if ( not Trig_rio_bonus_Flamethrower_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_rio_bonus_Flamethrower_Func001Func003C takes nothing returns boolean
    if ( ( RectContainsUnit(gg_rct_Rio_amazonas, udg_DamageEventTarget) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_argentina, udg_DamageEventTarget) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_chile_1, udg_DamageEventTarget) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_chile_2, udg_DamageEventTarget) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_patagonia_1, udg_DamageEventTarget) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_patagonia_2, udg_DamageEventTarget) == true ) ) then
        return true
    endif
    if ( ( RectContainsUnit(gg_rct_Rio_venezuela, udg_DamageEventTarget) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_rio_bonus_Flamethrower_Func001C takes nothing returns boolean
    if ( not Trig_rio_bonus_Flamethrower_Func001Func003C() ) then
        return false
    endif
    return true
endfunction

function Trig_rio_bonus_Flamethrower_Actions takes nothing returns nothing
    if ( Trig_rio_bonus_Flamethrower_Func001C() ) then
        set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.10 )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_rio_bonus_Flamethrower takes nothing returns nothing
    set gg_trg_rio_bonus_Flamethrower = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_rio_bonus_Flamethrower, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_rio_bonus_Flamethrower, Condition( function Trig_rio_bonus_Flamethrower_Conditions ) )
    call TriggerAddAction( gg_trg_rio_bonus_Flamethrower, function Trig_rio_bonus_Flamethrower_Actions )
endfunction

//===========================================================================
// Trigger: Flamethrower victim
//===========================================================================
function Trig_Flamethrower_victim_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'o005' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) != 'h01C' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) != 'h027' ) ) then
        return false
    endif
    if ( not ( IsUnitType(udg_DamageEventTarget, UNIT_TYPE_MECHANICAL) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flamethrower_victim_Actions takes nothing returns nothing
    call SetUnitVertexColorBJ( udg_DamageEventTarget, GetUnitLifePercent(udg_DamageEventTarget), GetUnitLifePercent(udg_DamageEventTarget), GetUnitLifePercent(udg_DamageEventTarget), 0 )
endfunction

//===========================================================================
function InitTrig_Flamethrower_victim takes nothing returns nothing
    set gg_trg_Flamethrower_victim = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_Flamethrower_victim, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_Flamethrower_victim, Condition( function Trig_Flamethrower_victim_Conditions ) )
    call TriggerAddAction( gg_trg_Flamethrower_victim, function Trig_Flamethrower_victim_Actions )
endfunction

//===========================================================================
// Trigger: Flamethrower antfire
//===========================================================================
function Trig_Flamethrower_antfire_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventSource) == 'o005' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'o005' ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(udg_DamageEventSource) == GetOwningPlayer(udg_DamageEventTarget) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flamethrower_antfire_Actions takes nothing returns nothing
    set udg_DamageEventAmount = ( udg_DamageEventAmount * 0.00 )
endfunction

//===========================================================================
function InitTrig_Flamethrower_antfire takes nothing returns nothing
    set gg_trg_Flamethrower_antfire = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_Flamethrower_antfire, "udg_AOEDamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_Flamethrower_antfire, Condition( function Trig_Flamethrower_antfire_Conditions ) )
    call TriggerAddAction( gg_trg_Flamethrower_antfire, function Trig_Flamethrower_antfire_Actions )
endfunction

//===========================================================================
// Trigger: Tree
//===========================================================================
function Trig_Tree_Actions takes nothing returns nothing
    call SetTerrainTypeBJ( GetDestructableLoc(GetDyingDestructable()), 'Ldrt', -1, 1, 0 )
endfunction

//===========================================================================
function InitTrig_Tree takes nothing returns nothing
    set gg_trg_Tree = CreateTrigger(  )
    call TriggerRegisterDestDeathInRegionEvent( gg_trg_Tree, GetEntireMapRect() )
    call TriggerAddAction( gg_trg_Tree, function Trig_Tree_Actions )
endfunction

//===========================================================================
// Trigger: Flamethrower
//===========================================================================
function Trig_Flamethrower_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'o005' ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetKillingUnitBJ(), UNIT_TYPE_RANGED_ATTACKER) == true ) ) then
        return false
    endif
    if ( not ( GetRandomPercentageBJ() <= 45.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flamethrower_Actions takes nothing returns nothing
    call ExplodeUnitBJ( GetTriggerUnit() )
    call AddSpecialEffectTargetUnitBJ( "origin", GetTriggerUnit(), "Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl" )
    call UnitDamagePointLoc( GetTriggerUnit(), 0, 50.00, GetUnitLoc(GetTriggerUnit()), 100, ATTACK_TYPE_SIEGE, DAMAGE_TYPE_NORMAL )
    call SetTerrainTypeBJ( GetUnitLoc(udg_DamageEventTarget), 'Ldrt', -1, 1, 0 )
    call TerrainDeformationCraterBJ( 0.5, true, GetUnitLoc(GetTriggerUnit()), 100.00, 32.00 )
endfunction

//===========================================================================
function InitTrig_Flamethrower takes nothing returns nothing
    set gg_trg_Flamethrower = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Flamethrower, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Flamethrower, Condition( function Trig_Flamethrower_Conditions ) )
    call TriggerAddAction( gg_trg_Flamethrower, function Trig_Flamethrower_Actions )
endfunction

//===========================================================================
// Trigger: Ecuatorian
//===========================================================================
function Trig_Ecuatorian_Func001Func005C takes nothing returns boolean
    if ( ( GetUnitTypeId(udg_DamageEventSource) == 'h01S' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Ecuatorian_Func001C takes nothing returns boolean
    if ( not Trig_Ecuatorian_Func001Func005C() ) then
        return false
    endif
    return true
endfunction

function Trig_Ecuatorian_Actions takes nothing returns nothing
    if ( Trig_Ecuatorian_Func001C() ) then
        call UnitRemoveTypeBJ( UNIT_TYPE_PEON, udg_DamageEventSource )
        call TriggerSleepAction( 2 )
        call UnitAddTypeBJ( UNIT_TYPE_PEON, udg_DamageEventSource )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Ecuatorian takes nothing returns nothing
    set gg_trg_Ecuatorian = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_Ecuatorian, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddAction( gg_trg_Ecuatorian, function Trig_Ecuatorian_Actions )
endfunction

//===========================================================================
// Trigger: Housesandbarracks
//===========================================================================
function Trig_Housesandbarracks_Func001C takes nothing returns boolean
    if ( ( GetUnitTypeId(GetTriggerUnit()) == 'h013' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetTriggerUnit()) == 'h011' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetTriggerUnit()) == 'h01F' ) ) then
        return true
    endif
    if ( ( GetUnitTypeId(GetTriggerUnit()) == 'h018' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Housesandbarracks_Conditions takes nothing returns boolean
    if ( not Trig_Housesandbarracks_Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Housesandbarracks_Func002Func002Func005Func004Func003C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h013' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Housesandbarracks_Func002Func002Func005Func004C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h011' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Housesandbarracks_Func002Func002Func005C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h01F' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Housesandbarracks_Func002Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h018' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Housesandbarracks_Func002Func003001001003001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_MECHANICAL) == true )
endfunction

function Trig_Housesandbarracks_Func002Func003001001003002001 takes nothing returns boolean
    return ( IsUnitType(GetFilterUnit(), UNIT_TYPE_ANCIENT) == false )
endfunction

function Trig_Housesandbarracks_Func002Func003001001003002002001 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit()) )
endfunction

function Trig_Housesandbarracks_Func002Func003001001003002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) != 'h004' )
endfunction

function Trig_Housesandbarracks_Func002Func003001001003002002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Housesandbarracks_Func002Func003001001003002002001(), Trig_Housesandbarracks_Func002Func003001001003002002002() )
endfunction

function Trig_Housesandbarracks_Func002Func003001001003002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Housesandbarracks_Func002Func003001001003002001(), Trig_Housesandbarracks_Func002Func003001001003002002() )
endfunction

function Trig_Housesandbarracks_Func002Func003001001003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Housesandbarracks_Func002Func003001001003001(), Trig_Housesandbarracks_Func002Func003001001003002() )
endfunction

function Trig_Housesandbarracks_Func002C takes nothing returns boolean
    if ( not ( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(350.00, GetUnitLoc(GetTriggerUnit()), Condition(function Trig_Housesandbarracks_Func002Func003001001003))) >= 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Housesandbarracks_Actions takes nothing returns nothing
    if ( Trig_Housesandbarracks_Func002C() ) then
        call DoNothing(  )
    else
        if ( Trig_Housesandbarracks_Func002Func002C() ) then
            call RemoveUnit( GetTriggerUnit() )
            call AdjustPlayerStateBJ( 150, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER )
        else
            call DoNothing(  )
            if ( Trig_Housesandbarracks_Func002Func002Func005C() ) then
                call RemoveUnit( GetTriggerUnit() )
                call AdjustPlayerStateBJ( 500, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER )
            else
                call DoNothing(  )
                if ( Trig_Housesandbarracks_Func002Func002Func005Func004C() ) then
                    call RemoveUnit( GetTriggerUnit() )
                    call AdjustPlayerStateBJ( 150, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER )
                else
                    if ( Trig_Housesandbarracks_Func002Func002Func005Func004Func003C() ) then
                        call RemoveUnit( GetTriggerUnit() )
                        call AdjustPlayerStateBJ( 20, GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_LUMBER )
                    else
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Housesandbarracks takes nothing returns nothing
    set gg_trg_Housesandbarracks = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Housesandbarracks, GetPlayableMapRect() )
    call TriggerAddCondition( gg_trg_Housesandbarracks, Condition( function Trig_Housesandbarracks_Conditions ) )
    call TriggerAddAction( gg_trg_Housesandbarracks, function Trig_Housesandbarracks_Actions )
endfunction

//===========================================================================
// Trigger: Industrias
//===========================================================================
function Trig_Industrias_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTrainedUnit()) == 'h02G' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Industrias_Func002Func001001001003 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h013' )
endfunction

function Trig_Industrias_Func002Func002001002001001001003001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h013' )
endfunction

function Trig_Industrias_Func002Func002001002001001001003002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit()) )
endfunction

function Trig_Industrias_Func002Func002001002001001001003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Industrias_Func002Func002001002001001001003001(), Trig_Industrias_Func002Func002001002001001001003002() )
endfunction

function Trig_Industrias_Func002Func010001001003 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h013' )
endfunction

function Trig_Industrias_Func002Func011001002001001001003001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h013' )
endfunction

function Trig_Industrias_Func002Func011001002001001001003002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetTriggerUnit()) )
endfunction

function Trig_Industrias_Func002Func011001002001001001003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Industrias_Func002Func011001002001001001003001(), Trig_Industrias_Func002Func011001002001001001003002() )
endfunction

function Trig_Industrias_Func002C takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h010' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Industrias_Actions takes nothing returns nothing
    if ( Trig_Industrias_Func002C() ) then
        call AdjustPlayerStateBJ( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(450.00, GetUnitLoc(GetTriggerUnit()), Condition(function Trig_Industrias_Func002Func010001001003))), GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call CreateTextTagLocBJ( ( "+" + I2S(( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(450.00, GetUnitLoc(GetTransportUnitBJ()), Condition(function Trig_Industrias_Func002Func011001002001001001003))) + 1 )) ), GetUnitLoc(GetEnumUnit()), 0, 10, 100.00, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
        call RemoveUnit( GetTrainedUnit() )
        call IssueTrainOrderByIdBJ( GetTriggerUnit(), 'h02G' )
    else
        call AdjustPlayerStateBJ( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(600.00, GetUnitLoc(GetTriggerUnit()), Condition(function Trig_Industrias_Func002Func001001001003))), GetOwningPlayer(GetTriggerUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call CreateTextTagLocBJ( ( "+" + I2S(( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(650.00, GetUnitLoc(GetTransportUnitBJ()), Condition(function Trig_Industrias_Func002Func002001002001001001003))) + 1 )) ), GetUnitLoc(GetEnumUnit()), 0, 10, 100.00, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
        call RemoveUnit( GetTrainedUnit() )
        call IssueTrainOrderByIdBJ( GetTriggerUnit(), 'h02G' )
    endif
endfunction

//===========================================================================
function InitTrig_Industrias takes nothing returns nothing
    set gg_trg_Industrias = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Industrias, EVENT_PLAYER_UNIT_TRAIN_FINISH )
    call TriggerAddCondition( gg_trg_Industrias, Condition( function Trig_Industrias_Conditions ) )
    call TriggerAddAction( gg_trg_Industrias, function Trig_Industrias_Actions )
endfunction

//===========================================================================
// Trigger: Granjas
//===========================================================================
function Trig_Granjas_Func002Func001Func001Func001C takes nothing returns boolean
    if ( ( RectContainsLoc(gg_rct_Amazonas_1, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return true
    endif
    if ( ( RectContainsLoc(gg_rct_Amazonas2, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return true
    endif
    return false
endfunction

function Trig_Granjas_Func002Func001Func001Func002C takes nothing returns boolean
    if ( not ( RectContainsLoc(gg_rct_Patagonia, GetUnitLoc(GetEnumUnit())) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Granjas_Func002Func001Func001C takes nothing returns boolean
    if ( not Trig_Granjas_Func002Func001Func001Func001C() ) then
        return false
    endif
    return true
endfunction

function Trig_Granjas_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetEnumUnit()) >= 85.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Granjas_Func002A takes nothing returns nothing
    if ( Trig_Granjas_Func002Func001C() ) then
        if ( Trig_Granjas_Func002Func001Func001C() ) then
            call AdjustPlayerStateBJ( 3, GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD )
            call CreateTextTagLocBJ( "TRIGSTR_1793", GetUnitLoc(GetEnumUnit()), 0, 10, 100, 100, 0.00, 0 )
            call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
            call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
            call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
            call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
        else
            if ( Trig_Granjas_Func002Func001Func001Func002C() ) then
                call AdjustPlayerStateBJ( 1, GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD )
                call CreateTextTagLocBJ( "TRIGSTR_1794", GetUnitLoc(GetEnumUnit()), 0, 10, 100, 100, 0.00, 0 )
                call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
                call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
                call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
                call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
            else
                call AdjustPlayerStateBJ( 2, GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD )
                call CreateTextTagLocBJ( "TRIGSTR_1795", GetUnitLoc(GetEnumUnit()), 0, 10, 100, 100, 0.00, 0 )
                call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
                call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
                call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
                call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
            endif
        endif
    else
        call DoNothing(  )
    endif
endfunction

function Trig_Granjas_Actions takes nothing returns nothing
    set udg_IncomeGroup = GetUnitsOfTypeIdAll('h00V')
    call ForGroupBJ( udg_IncomeGroup, function Trig_Granjas_Func002A )
    call DestroyGroup(udg_IncomeGroup)
endfunction

//===========================================================================
function InitTrig_Granjas takes nothing returns nothing
    set gg_trg_Granjas = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Granjas, udg_Timervar )
    call TriggerAddAction( gg_trg_Granjas, function Trig_Granjas_Actions )
endfunction

//===========================================================================
// Trigger: Ascienda
//===========================================================================
function Trig_Ascienda_Func002Func001Func002001001003001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h00V' )
endfunction

function Trig_Ascienda_Func002Func001Func002001001003002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetEnumUnit()) )
endfunction

function Trig_Ascienda_Func002Func001Func002001001003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Ascienda_Func002Func001Func002001001003001(), Trig_Ascienda_Func002Func001Func002001001003002() )
endfunction

function Trig_Ascienda_Func002Func001Func003001002001001001003001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h00V' )
endfunction

function Trig_Ascienda_Func002Func001Func003001002001001001003002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetEnumUnit()) )
endfunction

function Trig_Ascienda_Func002Func001Func003001002001001001003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Ascienda_Func002Func001Func003001002001001001003001(), Trig_Ascienda_Func002Func001Func003001002001001001003002() )
endfunction

function Trig_Ascienda_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetEnumUnit()) >= 85.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ascienda_Func002A takes nothing returns nothing
    if ( Trig_Ascienda_Func002Func001C() ) then
        call AdjustPlayerStateBJ( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(300.00, GetUnitLoc(GetEnumUnit()), Condition(function Trig_Ascienda_Func002Func001Func002001001003))), GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call CreateTextTagLocBJ( ( "+" + I2S(( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(300.00, GetUnitLoc(GetEnumUnit()), Condition(function Trig_Ascienda_Func002Func001Func003001002001001001003))) + 1 )) ), GetUnitLoc(GetEnumUnit()), 0, 10, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
    else
        call DoNothing(  )
    endif
    call DestroyGroup(udg_IncomeGroup)
endfunction

function Trig_Ascienda_Actions takes nothing returns nothing
    set udg_IncomeGroup = GetUnitsOfTypeIdAll('h017')
    call ForGroupBJ( udg_IncomeGroup, function Trig_Ascienda_Func002A )
endfunction

//===========================================================================
function InitTrig_Ascienda takes nothing returns nothing
    set gg_trg_Ascienda = CreateTrigger(  )
    call DisableTrigger( gg_trg_Ascienda )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Ascienda, udg_Timervar )
    call TriggerAddAction( gg_trg_Ascienda, function Trig_Ascienda_Actions )
endfunction

//===========================================================================
// Trigger: Empresa leera
//===========================================================================
function Trig_Empresa_leera_Func002Func001Func001001001003001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h01E' )
endfunction

function Trig_Empresa_leera_Func002Func001Func001001001003002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetEnumUnit()) )
endfunction

function Trig_Empresa_leera_Func002Func001Func001001001003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Empresa_leera_Func002Func001Func001001001003001(), Trig_Empresa_leera_Func002Func001Func001001001003002() )
endfunction

function Trig_Empresa_leera_Func002Func001Func002001002001001001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h01E' )
endfunction

function Trig_Empresa_leera_Func002Func001Func002001002001001001002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetEnumUnit()) )
endfunction

function Trig_Empresa_leera_Func002Func001Func002001002001001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Empresa_leera_Func002Func001Func002001002001001001002001(), Trig_Empresa_leera_Func002Func001Func002001002001001001002002() )
endfunction

function Trig_Empresa_leera_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetEnumUnit()) >= 85.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Empresa_leera_Func002A takes nothing returns nothing
    if ( Trig_Empresa_leera_Func002Func001C() ) then
        call AdjustPlayerStateBJ( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(999999.00, GetUnitLoc(GetEnumUnit()), Condition(function Trig_Empresa_leera_Func002Func001Func001001001003))), GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_LUMBER )
        call CreateTextTagLocBJ( ( "+" + I2S(( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Empresa_leera_Func002Func001Func002001002001001001002))) * 1 )) ), GetUnitLoc(GetEnumUnit()), 0, 10, 50.00, 100, 50.00, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
    else
        call DoNothing(  )
    endif
    call DestroyGroup(udg_IncomeGroup)
endfunction

function Trig_Empresa_leera_Actions takes nothing returns nothing
    set udg_IncomeGroup = GetUnitsOfTypeIdAll('h021')
    call ForGroupBJ( udg_IncomeGroup, function Trig_Empresa_leera_Func002A )
endfunction

//===========================================================================
function InitTrig_Empresa_leera takes nothing returns nothing
    set gg_trg_Empresa_leera = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Empresa_leera, udg_Timervar )
    call TriggerAddAction( gg_trg_Empresa_leera, function Trig_Empresa_leera_Actions )
endfunction

//===========================================================================
// Trigger: Coorporacion leera
//===========================================================================
function Trig_Coorporacion_leera_Func002Func001Func002001001001003001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h01E' )
endfunction

function Trig_Coorporacion_leera_Func002Func001Func002001001001003002 takes nothing returns boolean
    return ( GetOwningPlayer(GetEnumUnit()) == GetOwningPlayer(GetFilterUnit()) )
endfunction

function Trig_Coorporacion_leera_Func002Func001Func002001001001003 takes nothing returns boolean
    return GetBooleanAnd( Trig_Coorporacion_leera_Func002Func001Func002001001001003001(), Trig_Coorporacion_leera_Func002Func001Func002001001001003002() )
endfunction

function Trig_Coorporacion_leera_Func002Func001Func003001002001001001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetFilterUnit()) == 'h01E' )
endfunction

function Trig_Coorporacion_leera_Func002Func001Func003001002001001001002002 takes nothing returns boolean
    return ( GetOwningPlayer(GetFilterUnit()) == GetOwningPlayer(GetEnumUnit()) )
endfunction

function Trig_Coorporacion_leera_Func002Func001Func003001002001001001002 takes nothing returns boolean
    return GetBooleanAnd( Trig_Coorporacion_leera_Func002Func001Func003001002001001001002001(), Trig_Coorporacion_leera_Func002Func001Func003001002001001001002002() )
endfunction

function Trig_Coorporacion_leera_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetEnumUnit()) >= 85.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Coorporacion_leera_Func002A takes nothing returns nothing
    if ( Trig_Coorporacion_leera_Func002Func001C() ) then
        call AdjustPlayerStateBJ( ( CountUnitsInGroup(GetUnitsInRangeOfLocMatching(999999.00, GetUnitLoc(GetEnumUnit()), Condition(function Trig_Coorporacion_leera_Func002Func001Func002001001001003))) * 2 ), GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_LUMBER )
        call CreateTextTagLocBJ( ( "+" + I2S(( CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(), Condition(function Trig_Coorporacion_leera_Func002Func001Func003001002001001001002))) * 2 )) ), GetUnitLoc(GetEnumUnit()), 0, 10, 50.00, 100, 50.00, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
    else
        call DoNothing(  )
    endif
    call DestroyGroup(udg_IncomeGroup)
endfunction

function Trig_Coorporacion_leera_Actions takes nothing returns nothing
    set udg_IncomeGroup = GetUnitsOfTypeIdAll('h028')
    call ForGroupBJ( udg_IncomeGroup, function Trig_Coorporacion_leera_Func002A )
endfunction

//===========================================================================
function InitTrig_Coorporacion_leera takes nothing returns nothing
    set gg_trg_Coorporacion_leera = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Coorporacion_leera, udg_Timervar )
    call TriggerAddAction( gg_trg_Coorporacion_leera, function Trig_Coorporacion_leera_Actions )
endfunction

//===========================================================================
// Trigger: Warfare
//===========================================================================
function Trig_Warfare_Func001C takes nothing returns boolean
    if ( not ( GetResearched() == 'R013' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warfare_Func002C takes nothing returns boolean
    if ( not ( GetResearched() == 'R010' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warfare_Actions takes nothing returns nothing
    if ( Trig_Warfare_Func001C() ) then
        call SetPlayerTechMaxAllowedSwap( 'R010', 0, GetOwningPlayer(GetTriggerUnit()) )
    else
        call DoNothing(  )
    endif
    if ( Trig_Warfare_Func002C() ) then
        call SetPlayerTechResearchedSwap( 'R011', 1, GetOwningPlayer(GetTriggerUnit()) )
        call SetPlayerTechMaxAllowedSwap( 'R013', 0, GetOwningPlayer(GetTriggerUnit()) )
        call SetPlayerTechMaxAllowedSwap( 'h02I', -1, GetOwningPlayer(GetTriggerUnit()) )
        call SetPlayerTechMaxAllowedSwap( 'h00S', 0, GetOwningPlayer(GetTriggerUnit()) )
        call SetPlayerTechMaxAllowedSwap( 'h01X', 0, GetOwningPlayer(GetTriggerUnit()) )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_Warfare takes nothing returns nothing
    set gg_trg_Warfare = CreateTrigger(  )
    call DisableTrigger( gg_trg_Warfare )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Warfare, EVENT_PLAYER_UNIT_RESEARCH_START )
    call TriggerAddAction( gg_trg_Warfare, function Trig_Warfare_Actions )
endfunction

//===========================================================================
// Trigger: Guerilla tactic
//===========================================================================
function Trig_Guerilla_tactic_Conditions takes nothing returns boolean
    if ( not ( GetPlayerTechCountSimple('R00V', GetOwningPlayer(GetTriggerUnit())) == 1 ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Guerilla_tactic_Func001C takes nothing returns boolean
    if ( not ( GetPlayerTechCountSimple('R005', GetOwningPlayer(GetTriggerUnit())) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Guerilla_tactic_Actions takes nothing returns nothing
    if ( Trig_Guerilla_tactic_Func001C() ) then
        call CreateNUnitsAtLoc( 2, 'h02B', GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), bj_UNIT_FACING )
    else
        call CreateNUnitsAtLoc( 3, 'h016', GetOwningPlayer(GetTriggerUnit()), GetUnitLoc(GetTriggerUnit()), bj_UNIT_FACING )
    endif
endfunction

//===========================================================================
function InitTrig_Guerilla_tactic takes nothing returns nothing
    set gg_trg_Guerilla_tactic = CreateTrigger(  )
    call DisableTrigger( gg_trg_Guerilla_tactic )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Guerilla_tactic, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Guerilla_tactic, Condition( function Trig_Guerilla_tactic_Conditions ) )
    call TriggerAddAction( gg_trg_Guerilla_tactic, function Trig_Guerilla_tactic_Actions )
endfunction

//===========================================================================
// Trigger: City a1 Copiar 2
//===========================================================================
function Trig_City_a1_Copiar_2_Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_STRUCTURE) == true ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetAttackedUnitBJ(), UNIT_TYPE_ANCIENT) == false ) ) then
        return false
    endif
    if ( not ( GetUnitLifePercent(GetAttackedUnitBJ()) <= 30.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_City_a1_Copiar_2_Actions takes nothing returns nothing
    if ( Trig_City_a1_Copiar_2_Func001C() ) then
        call DisplayTextToForce( GetPlayersAll(), ( ( GetPlayerName(GetOwningPlayer(GetAttacker())) + "|cffffcc00 tomo |r" ) + ( ( "|cFFccff00" + GetUnitName(GetAttackedUnitBJ()) ) + ( "|R" + ( "|cffffcc00 anteriormente de |r" + GetPlayerName(GetOwningPlayer(GetAttackedUnitBJ())) ) ) ) ) )
        call SetUnitOwner( GetAttackedUnitBJ(), GetOwningPlayer(GetAttacker()), true )
        call SetUnitLifePercentBJ( GetAttackedUnitBJ(), 100 )
        call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(GetAttackedUnitBJ()), 10.00 )
        call PlaySoundBJ( gg_snd_ItemReceived )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_City_a1_Copiar_2 takes nothing returns nothing
    set gg_trg_City_a1_Copiar_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_City_a1_Copiar_2, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddAction( gg_trg_City_a1_Copiar_2, function Trig_City_a1_Copiar_2_Actions )
endfunction

//===========================================================================
// Trigger: City a1 Copiar 2 Copiar
//===========================================================================
function Trig_City_a1_Copiar_2_Copiar_Func001C takes nothing returns boolean
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_STRUCTURE) == true ) ) then
        return false
    endif
    if ( not ( IsUnitType(GetTriggerUnit(), UNIT_TYPE_ANCIENT) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_City_a1_Copiar_2_Copiar_Actions takes nothing returns nothing
    if ( Trig_City_a1_Copiar_2_Copiar_Func001C() ) then
        call DisplayTextToForce( GetPlayersAll(), ( ( GetPlayerName(GetOwningPlayer(GetAttacker())) + "|cffffcc00 tomo |r" ) + ( ( "|cFFccff00" + GetUnitName(GetKillingUnitBJ()) ) + ( "|R" + ( "|cffffcc00 anteriormente de |r" + GetPlayerName(GetOwningPlayer(GetDyingUnit())) ) ) ) ) )
        call CreateNUnitsAtLoc( 1, GetUnitTypeId(GetTriggerUnit()), GetOwningPlayer(GetKillingUnitBJ()), GetUnitLoc(GetTriggerUnit()), bj_UNIT_FACING )
        call PingMinimapLocForForce( GetPlayersAll(), GetUnitLoc(GetDyingUnit()), 10.00 )
        call PlaySoundBJ( gg_snd_ItemReceived )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_City_a1_Copiar_2_Copiar takes nothing returns nothing
    set gg_trg_City_a1_Copiar_2_Copiar = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_City_a1_Copiar_2_Copiar, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_City_a1_Copiar_2_Copiar, function Trig_City_a1_Copiar_2_Copiar_Actions )
endfunction

//===========================================================================
// Trigger: Resource Points Copiar 2
//===========================================================================
function Trig_Resource_Points_Copiar_2_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetEnumUnit()) >= 85.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Resource_Points_Copiar_2_Func002A takes nothing returns nothing
    if ( Trig_Resource_Points_Copiar_2_Func002Func001C() ) then
        call AdjustPlayerStateBJ( 1, GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call CreateTextTagLocBJ( "TRIGSTR_1791", GetUnitLoc(GetEnumUnit()), 0, 10, 100, 100, 0.00, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
    else
        call DoNothing(  )
    endif
endfunction

function Trig_Resource_Points_Copiar_2_Actions takes nothing returns nothing
    set udg_IncomeGroup = GetUnitsOfTypeIdAll('h013')
    call ForGroupBJ( udg_IncomeGroup, function Trig_Resource_Points_Copiar_2_Func002A )
endfunction

//===========================================================================
function InitTrig_Resource_Points_Copiar_2 takes nothing returns nothing
    set gg_trg_Resource_Points_Copiar_2 = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Resource_Points_Copiar_2, udg_Timervar )
    call TriggerAddAction( gg_trg_Resource_Points_Copiar_2, function Trig_Resource_Points_Copiar_2_Actions )
endfunction

//===========================================================================
// Trigger: Resource Points Copiar
//===========================================================================
function Trig_Resource_Points_Copiar_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetEnumUnit()) >= 85.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Resource_Points_Copiar_Func002A takes nothing returns nothing
    if ( Trig_Resource_Points_Copiar_Func002Func001C() ) then
        call AdjustPlayerStateBJ( 4, GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call CreateTextTagLocBJ( "TRIGSTR_1790", GetUnitLoc(GetEnumUnit()), 0, 10, 100, 100, 0.00, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 4.00 )
    else
        call DoNothing(  )
    endif
    call DestroyGroup(udg_IncomeGroup)
endfunction

function Trig_Resource_Points_Copiar_Actions takes nothing returns nothing
    set udg_IncomeGroup = GetUnitsOfTypeIdAll('h00U')
    call ForGroupBJ( udg_IncomeGroup, function Trig_Resource_Points_Copiar_Func002A )
endfunction

//===========================================================================
function InitTrig_Resource_Points_Copiar takes nothing returns nothing
    set gg_trg_Resource_Points_Copiar = CreateTrigger(  )
    call TriggerRegisterTimerExpireEventBJ( gg_trg_Resource_Points_Copiar, udg_Timervar )
    call TriggerAddAction( gg_trg_Resource_Points_Copiar, function Trig_Resource_Points_Copiar_Actions )
endfunction

//===========================================================================
// Trigger: Resource Points Copiar Copiar 2 Copiar 2
//===========================================================================
function Trig_Resource_Points_Copiar_Copiar_2_Copiar_2_Func002Func001C takes nothing returns boolean
    if ( not ( GetUnitLifePercent(GetEnumUnit()) >= 85.00 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Resource_Points_Copiar_Copiar_2_Copiar_2_Func002A takes nothing returns nothing
    if ( Trig_Resource_Points_Copiar_Copiar_2_Copiar_2_Func002Func001C() ) then
        call AdjustPlayerStateBJ( 1, GetOwningPlayer(GetEnumUnit()), PLAYER_STATE_RESOURCE_GOLD )
        call CreateTextTagLocBJ( "TRIGSTR_1789", GetUnitLoc(GetEnumUnit()), 0, 10, 100, 100, 0.00, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagFadepointBJ( GetLastCreatedTextTag(), 4 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 2.00 )
    else
        call DoNothing(  )
    endif
    call DestroyGroup(udg_IncomeGroup)
endfunction

function Trig_Resource_Points_Copiar_Copiar_2_Copiar_2_Actions takes nothing returns nothing
    set udg_IncomeGroup = GetUnitsOfTypeIdAll('h029')
    call ForGroupBJ( udg_IncomeGroup, function Trig_Resource_Points_Copiar_Copiar_2_Copiar_2_Func002A )
endfunction

//===========================================================================
function InitTrig_Resource_Points_Copiar_Copiar_2_Copiar_2 takes nothing returns nothing
    set gg_trg_Resource_Points_Copiar_Copiar_2_Copiar_2 = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Resource_Points_Copiar_Copiar_2_Copiar_2, 1.00 )
    call TriggerAddAction( gg_trg_Resource_Points_Copiar_Copiar_2_Copiar_2, function Trig_Resource_Points_Copiar_Copiar_2_Copiar_2_Actions )
endfunction

//===========================================================================
// Trigger: neutral
//===========================================================================
function Trig_neutral_Func001001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral red" )
endfunction

function Trig_neutral_Func002001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral blue" )
endfunction

function Trig_neutral_Func003001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral teal" )
endfunction

function Trig_neutral_Func004001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral purple" )
endfunction

function Trig_neutral_Func005001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral yellow" )
endfunction

function Trig_neutral_Func006001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral orange" )
endfunction

function Trig_neutral_Func007001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral green" )
endfunction

function Trig_neutral_Func008001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral pink" )
endfunction

function Trig_neutral_Func009001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral gray" )
endfunction

function Trig_neutral_Func010001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral light blue" )
endfunction

function Trig_neutral_Func011001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral dark green" )
endfunction

function Trig_neutral_Func012001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-neutral brown" )
endfunction

function Trig_neutral_Actions takes nothing returns nothing
    if ( Trig_neutral_Func001001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(0), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func002001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(1), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func003001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(2), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func004001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(3), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func005001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(4), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func006001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(5), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func007001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(6), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func008001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(7), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func009001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(8), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func010001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(9), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func011001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(10), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
    if ( Trig_neutral_Func012001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(11), bj_ALLIANCE_NEUTRAL )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_neutral takes nothing returns nothing
    set gg_trg_neutral = CreateTrigger(  )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(0), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(1), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(2), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(3), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(4), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(5), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(6), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(7), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(8), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(9), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(10), "-neutral", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_neutral, Player(11), "-neutral", false )
    call TriggerAddAction( gg_trg_neutral, function Trig_neutral_Actions )
endfunction

//===========================================================================
// Trigger: ally
//===========================================================================
function Trig_ally_Func001001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally red" )
endfunction

function Trig_ally_Func002001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally blue" )
endfunction

function Trig_ally_Func003001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally teal" )
endfunction

function Trig_ally_Func004001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally purple" )
endfunction

function Trig_ally_Func005001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally yellow" )
endfunction

function Trig_ally_Func006001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally orange" )
endfunction

function Trig_ally_Func007001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally green" )
endfunction

function Trig_ally_Func008001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally pink" )
endfunction

function Trig_ally_Func009001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally gray" )
endfunction

function Trig_ally_Func010001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally light blue" )
endfunction

function Trig_ally_Func011001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally dark green" )
endfunction

function Trig_ally_Func012001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-ally brown" )
endfunction

function Trig_ally_Actions takes nothing returns nothing
    if ( Trig_ally_Func001001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(0), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func002001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(1), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func003001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(2), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func004001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(3), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func005001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(4), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func006001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(5), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func007001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(6), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func008001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(7), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func009001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(8), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func010001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(9), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func011001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(10), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
    if ( Trig_ally_Func012001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(11), bj_ALLIANCE_ALLIED_VISION )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_ally takes nothing returns nothing
    set gg_trg_ally = CreateTrigger(  )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(0), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(1), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(2), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(3), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(4), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(5), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(6), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(7), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(8), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(9), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(10), "-ally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_ally, Player(11), "-ally", false )
    call TriggerAddAction( gg_trg_ally, function Trig_ally_Actions )
endfunction

//===========================================================================
// Trigger: unally
//===========================================================================
function Trig_unally_Func001001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally red" )
endfunction

function Trig_unally_Func002001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally blue" )
endfunction

function Trig_unally_Func003001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally teal" )
endfunction

function Trig_unally_Func004001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally purple" )
endfunction

function Trig_unally_Func005001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally yellow" )
endfunction

function Trig_unally_Func006001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally orange" )
endfunction

function Trig_unally_Func007001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally green" )
endfunction

function Trig_unally_Func008001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally pink" )
endfunction

function Trig_unally_Func009001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally gray" )
endfunction

function Trig_unally_Func010001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally light blue" )
endfunction

function Trig_unally_Func011001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally dark green" )
endfunction

function Trig_unally_Func012001 takes nothing returns boolean
    return ( GetEventPlayerChatString() == "-unally brown" )
endfunction

function Trig_unally_Actions takes nothing returns nothing
    if ( Trig_unally_Func001001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(0), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func002001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(1), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func003001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(2), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func004001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(3), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func005001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(4), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func006001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(5), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func007001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(6), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func008001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(7), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func009001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(8), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func010001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(9), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func011001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(10), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
    if ( Trig_unally_Func012001() ) then
        call SetPlayerAllianceStateBJ( GetTriggerPlayer(), Player(11), bj_ALLIANCE_UNALLIED )
    else
        call DoNothing(  )
    endif
endfunction

//===========================================================================
function InitTrig_unally takes nothing returns nothing
    set gg_trg_unally = CreateTrigger(  )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(0), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(1), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(2), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(3), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(4), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(5), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(6), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(7), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(8), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(9), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(10), "-unally", false )
    call TriggerRegisterPlayerChatEvent( gg_trg_unally, Player(11), "-unally", false )
    call TriggerAddAction( gg_trg_unally, function Trig_unally_Actions )
endfunction

//===========================================================================
// Trigger: dummy
//===========================================================================
function Trig_dummy_Actions takes nothing returns nothing
endfunction

//===========================================================================
function InitTrig_dummy takes nothing returns nothing
    set gg_trg_dummy = CreateTrigger(  )
    call TriggerAddAction( gg_trg_dummy, function Trig_dummy_Actions )
endfunction

//===========================================================================
// Trigger: Unit Indexer
//
// Unit Indexer gives you an array-safe (1-8190) custom value for units, eliminating the need for hashtables to store unit-specific data.
// Just use "Set MyArrayData[(Custom value of Unit)] = (Some data)".
// --------
// If you want to get the unit assigned to an index (reverse lookup) use "UDexUnits[(Index)]".
// --------
// If you want to detect when an index is created or when it is released, use "UnitIndexEvent Equal to 1.00" (created) or "UnitIndexEvent Equal to 2.00" (released). The index being created/released is called "UDex".
// --------
// You can enable/disable Unit Indexer to protect some of your undesirable units from being indexed like this:
// Trigger - Turn off Unit Indexer <gen>
// Unit - Create 1 Dummy for (Triggering player) at TempPoint facing 0.00 degrees
// Trigger - Turn on Unit Indexer <gen>
// --------
// If you want to use a Map Initialization trigger that uses custom value of units, to make sure that UnitIndexer initializes first, use the event "UnitIndexEvent Equal to 3.00". Otherwise the custom value of units may be zero.
// --------
// Advanced:
// --------
// If you want to lock the index of a unit, use "Set UnitIndexLock[(Index)] = (UnitIndexLock[(Index)] + 1)". This will prevent the index from being recycled. If you want to unlock it and allow it to be recycled, run the Unit Indexer <gen> trigger.
// Note: Make sure if you add a lock that you will eventually remove the lock, otherwise the index will never be recycled.
//===========================================================================
function Trig_Unit_Indexer_Func005Func002C takes nothing returns boolean
    if ( not ( udg_UnitIndexLock[udg_UDex] == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func005C takes nothing returns boolean
    if ( not ( GetUnitUserData(udg_UDexUnits[udg_UDex]) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func014Func003C takes nothing returns boolean
    if ( not ( udg_UDexWasted == 32 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func014Func005C takes nothing returns boolean
    if ( not ( udg_UDexRecycle == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func014C takes nothing returns boolean
    if ( not ( udg_UnitIndexerEnabled == true ) ) then
        return false
    endif
    if ( not ( GetUnitUserData(GetFilterUnit()) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Actions takes nothing returns nothing
        call ExecuteFunc("InitializeUnitIndexer")
    endfunction
     
    function ClearUnitIndex takes nothing returns nothing
    if ( Trig_Unit_Indexer_Func005C() ) then
        set udg_UnitIndexLock[udg_UDex] = ( udg_UnitIndexLock[udg_UDex] - 1 )
        if ( Trig_Unit_Indexer_Func005Func002C() ) then
            set udg_UDexNext[udg_UDexPrev[udg_UDex]] = udg_UDexNext[udg_UDex]
            set udg_UDexPrev[udg_UDexNext[udg_UDex]] = udg_UDexPrev[udg_UDex]
            set udg_UDexPrev[udg_UDex] = 0
            set udg_UnitIndexEvent = 0.00
            set udg_UnitIndexEvent = 2.00
            set udg_UnitIndexEvent = 0.00
            set udg_UDexUnits[udg_UDex] = null
            set udg_UDexNext[udg_UDex] = udg_UDexRecycle
            set udg_UDexRecycle = udg_UDex
        else
        endif
    else
    endif
    endfunction
     
    function IndexUnit takes nothing returns boolean
        local integer pdex = udg_UDex
        local integer ndex
    // -
    // You can customize the following block - if conditions are false the (Matching unit) won't be indexed.
    // -
    if ( Trig_Unit_Indexer_Func014C() ) then
        set udg_UDexWasted = ( udg_UDexWasted + 1 )
        if ( Trig_Unit_Indexer_Func014Func003C() ) then
            set udg_UDexWasted = 0
            set udg_UDex = udg_UDexNext[0]
            loop
                exitwhen udg_UDex == 0
                set ndex = udg_UDexNext[udg_UDex]
                call ClearUnitIndex()
                set udg_UDex = ndex
            endloop
        else
        endif
        if ( Trig_Unit_Indexer_Func014Func005C() ) then
            set udg_UDex = ( udg_UDexGen + 1 )
            set udg_UDexGen = udg_UDex
        else
            set udg_UDex = udg_UDexRecycle
            set udg_UDexRecycle = udg_UDexNext[udg_UDex]
        endif
        set udg_UDexUnits[udg_UDex] = GetFilterUnit()
        call SetUnitUserData( udg_UDexUnits[udg_UDex], udg_UDex )
        set udg_UDexPrev[udg_UDexNext[0]] = udg_UDex
        set udg_UDexNext[udg_UDex] = udg_UDexNext[0]
        set udg_UDexNext[0] = udg_UDex
        set udg_UnitIndexLock[udg_UDex] = 1
        set udg_UnitIndexEvent = 0.00
        set udg_UnitIndexEvent = 1.00
        set udg_UnitIndexEvent = 0.00
        set udg_UDex = pdex
    else
    endif
        return false
    endfunction
     
    function InitializeUnitIndexer takes nothing returns nothing
        local integer i = bj_MAX_PLAYER_SLOTS
        local boolexpr b = Filter(function IndexUnit)
        local region re = CreateRegion()
        local trigger t = GetTriggeringTrigger()
        local rect r = GetWorldBounds()
        call RegionAddRect(re, r)
        call TriggerRegisterEnterRegion(t, re, b)
        call TriggerClearActions(t)
        call TriggerAddAction(t, function ClearUnitIndex)
    set udg_UnitIndexerEnabled = true
        loop
            set i = i - 1
            call GroupEnumUnitsOfPlayer(bj_lastCreatedGroup, Player(i), b)
            exitwhen i == 0
        endloop
        call RemoveRect(r)
        set re = null
        set r = null
        set t = null
        set b = null
    set udg_UnitIndexEvent = 3.00
    set udg_UnitIndexEvent = 0.00
endfunction

//===========================================================================
function InitTrig_Unit_Indexer takes nothing returns nothing
    set gg_trg_Unit_Indexer = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Unit_Indexer, function Trig_Unit_Indexer_Actions )
endfunction

//===========================================================================
// Trigger: Damage Engine Config
//===========================================================================
function Trig_Damage_Engine_Config_Conditions takes nothing returns boolean
    if ( not ( IsUnitType(udg_UDexUnits[udg_UDex], UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Engine_Config_Actions takes nothing returns nothing
    // -
    // This trigger's conditions let you filter out units you don't want detection for.
    // NOTE: By default, units with Locust will not pass the check.
    // TIP: The unit is called UDexUnits[UDex] and its custom value is UDex
    // -
    // Copy the Cheat Death Ability from Object Editor into your map and set the following variable respectively:
    // -
    // -
    // Copy the Detect Spell Damage Ability from Object Editor into your map and set the following variable respectively:
    // -
    // -
    // You can add extra classifications here if you want to differentiate between your triggered damage
    // Use DamageTypeExplosive (or any negative value damage type) if you want a unit killed by that damage to explode
    // -
    set udg_DamageTypeExplosive = -1
    set udg_DamageTypeCriticalStrike = 1
    set udg_DamageTypeHeal = 2
    set udg_DamageTypeReduced = 3
    set udg_DamageTypeBlocked = 4
    // -
    // Leave the next Set statement disabled if you modified the Spell Damage Reduction item ability to 1.67 reduction
    // Otherwise, if you removed that ability from Runed Bracers, you'll need to enable this line:
    // -
    set udg_DmgEvBracers = 'brac'
    // -
    // Set the damage multiplication factor (1.00 being unmodified, increasing in damage over 1.00 and at 0 damage with 0.00)
    // NOTE. With the default values, Runed Bracers is reduces 33%, Elune's Grace reduces 20% and Ethereal increases 67%
    // -
    set udg_DAMAGE_FACTOR_BRACERS = 0.67
    set udg_DAMAGE_FACTOR_ELUNES = 0.80
    set udg_DAMAGE_FACTOR_ETHEREAL = 1.67
    // -
    // Added 25 July 2017 to allow detection of things like Bash or Pulverize or AOE spread
    // -
    set udg_DamageEventAOE = 1
    set udg_DamageEventLevel = 1
    // -
    // Do not enable any of the following lines as they are simply variable declarations to make copying easier
    // -
endfunction

//===========================================================================
function InitTrig_Damage_Engine_Config takes nothing returns nothing
    set gg_trg_Damage_Engine_Config = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Damage_Engine_Config, Condition( function Trig_Damage_Engine_Config_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Engine_Config, function Trig_Damage_Engine_Config_Actions )
endfunction

//===========================================================================
// Trigger: Damage Engine
//===========================================================================
//===========================================================================
// Damage Engine lets you detect, amplify, block or nullify damage. It even
// lets you detect if the damage was physical or from a spell. Just reference
// DamageEventAmount/Source/Target or the boolean IsDamageSpell, to get the
// necessary damage event data.
//
// - Detect damage: use the event "DamageEvent Equal to 1.00"
// - To change damage before it's dealt: use the event "DamageModifierEvent Equal to 1.00"
// - Detect damage after it was applied, use the event "AfterDamageEvent Equal to 1.00"
// - Detect spell damage: use the condition "IsDamageSpell Equal to True"
// - Detect zero-damage: use the event "DamageEvent Equal to 2.00" (an AfterDamageEvent will not fire for this)
//
// You can specify the DamageEventType before dealing triggered damage. To prevent an already-improbable error, I recommend running the trigger "ClearDamageEvent (Checking Conditions)" after dealing triggered damage from within a damage event:
// - Set NextDamageType = DamageTypeWhatever
// - Unit - Cause...
// - Trigger - Run ClearDamageEvent (Checking Conditions)
//
// You can modify the DamageEventAmount and the DamageEventType from a "DamageModifierEvent Equal to 1.00" trigger.
// - If the amount is modified to negative, it will count as a heal.
// - If the amount is set to 0, no damage will be dealt.
//
// If you need to reference the original in-game damage, use the variable "DamageEventPrevAmt".
// 
//===========================================================================
// Programming note about "integer i" and "udg_DmgEvRecursionN": integer i
// ranges from -1 upwards. "udg_DmgEvRecursionN" ranges from 0 upwards.
// "integer i" is always 1 less than "udg_DmgEvRecursionN"
// 
function DmgEvResetVars takes nothing returns nothing
    local integer i = udg_DmgEvRecursionN - 2
    set udg_DmgEvRecursionN = i + 1
    if i >= 0 then
        set udg_DamageEventPrevAmt  = udg_LastDmgPrevAmount[i]
        set udg_DamageEventAmount   = udg_LastDmgValue[i]
        set udg_DamageEventSource   = udg_LastDmgSource[i]
        set udg_DamageEventTarget   = udg_LastDmgTarget[i]
        set udg_IsDamageSpell       = udg_LastDmgWasSpell[i]
        set udg_DamageEventType     = udg_LastDmgPrevType[i]
    endif
endfunction

function CheckDamagedLifeEvent takes boolean clear returns nothing
    if clear then
        set udg_NextDamageOverride = false
        set udg_NextDamageType = 0
    endif
    if udg_DmgEvTrig != null then
        call DestroyTrigger(udg_DmgEvTrig)
        set udg_DmgEvTrig = null
        if udg_IsDamageSpell then
            call SetWidgetLife(udg_DamageEventTarget, RMaxBJ(udg_LastDamageHP, 0.41))
            if udg_LastDamageHP <= 0.405 then
                if udg_DamageEventType < 0 then
                    call SetUnitExploded(udg_DamageEventTarget, true)
                endif
                //Kill the unit
                call DisableTrigger(udg_DamageEventTrigger)
                call UnitDamageTarget(udg_DamageEventSource, udg_DamageEventTarget, -999, false, false, null, DAMAGE_TYPE_UNIVERSAL, null)
                call EnableTrigger(udg_DamageEventTrigger)
            endif
        elseif GetUnitAbilityLevel(udg_DamageEventTarget, udg_DamageBlockingAbility) > 0 then
            call UnitRemoveAbility(udg_DamageEventTarget, udg_DamageBlockingAbility)
            call SetWidgetLife(udg_DamageEventTarget, udg_LastDamageHP)
        endif
        if udg_DamageEventAmount != 0.00 and not udg_HideDamageFrom[GetUnitUserData(udg_DamageEventSource)] then
            set udg_AfterDamageEvent = 0.00
            set udg_AfterDamageEvent = 1.00
            set udg_AfterDamageEvent = 0.00
        endif
        call DmgEvResetVars()
    endif
endfunction
    
function DmgEvOnAOEEnd takes nothing returns nothing
    if udg_DamageEventAOE > 1 then
        set udg_AOEDamageEvent = 0.00
        set udg_AOEDamageEvent = 1.00
        set udg_AOEDamageEvent = 0.00
        set udg_DamageEventAOE = 1
    endif
    set udg_DamageEventLevel = 1
    set udg_EnhancedDamageTarget = null
    call GroupClear(udg_DamageEventAOEGroup)
endfunction
    
function DmgEvOnExpire takes nothing returns nothing
    set udg_DmgEvStarted = false
    call CheckDamagedLifeEvent(true)
    //Reset things so they don't perpetuate for AoE/Level target detection
    call DmgEvOnAOEEnd()
    set udg_DamageEventTarget = null
    set udg_DamageEventSource = null
endfunction

function PreCheckDamagedLifeEvent takes nothing returns boolean
    call CheckDamagedLifeEvent(true)
    return false
endfunction

function OnUnitDamage takes nothing returns boolean
    local boolean override = udg_DamageEventOverride
    local integer i
    local integer e = udg_DamageEventLevel
    local integer a = udg_DamageEventAOE
    local string s
    local real prevAmount
    local real life
    local real prevLife
    local unit u
    local unit f
    call CheckDamagedLifeEvent(false) //in case the unit state event failed and the 0.00 second timer hasn't yet expired
    set i = udg_DmgEvRecursionN - 1 //Had to be moved here due to false recursion tracking
    if i < 0 then
        //Added 25 July 2017 to detect AOE damage or multiple single-target damage
        set u                       = udg_DamageEventTarget
        set f                       = udg_DamageEventSource
    elseif i < 16 then
        set udg_LastDmgPrevAmount[i]= udg_DamageEventPrevAmt
        set udg_LastDmgValue[i]     = udg_DamageEventAmount
        set udg_LastDmgSource[i]    = udg_DamageEventSource
        set udg_LastDmgTarget[i]    = udg_DamageEventTarget
        set udg_LastDmgWasSpell[i]  = udg_IsDamageSpell
        set udg_LastDmgPrevType[i]  = udg_DamageEventType
    else
        set s = "WARNING: Recursion error when dealing damage! Make sure when you deal damage from within a DamageEvent trigger, do it like this:\n\n"
        set s = s + "Trigger - Turn off (This Trigger)\n"
        set s = s + "Unit - Cause...\n"
        set s = s + "Trigger - Turn on (This Trigger)"
        
        //Delete the next couple of lines to disable the in-game recursion crash warnings
        call ClearTextMessages()
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0.00, 0.00, 999.00, s)
        return false
    endif
    set udg_DmgEvRecursionN     = i + 2
    set prevAmount              = GetEventDamage()
    set udg_DamageEventTarget   = GetTriggerUnit()
    set udg_DamageEventSource   = GetEventDamageSource()
    
    set udg_DamageEventAmount   = prevAmount
    
    set udg_DamageEventType     = udg_NextDamageType
    set udg_NextDamageType      = 0
    set udg_DamageEventOverride = udg_NextDamageOverride
    set udg_NextDamageOverride  = false
    
    if i < 0 then
        //Added 25 July 2017 to detect AOE damage or multiple single-target damage
        if udg_DamageEventType == 0 then
            if f == udg_DamageEventSource then
                //Source has damaged more than once
                if IsUnitInGroup(udg_DamageEventTarget, udg_DamageEventAOEGroup) then
                    //Added 5 August 2017 to improve tracking of enhanced damage against, say, Pulverize
                    set udg_DamageEventLevel = udg_DamageEventLevel + 1
                    set udg_EnhancedDamageTarget = udg_DamageEventTarget
                else
                    //Multiple targets hit by this source - flag as AOE
                    set udg_DamageEventAOE = udg_DamageEventAOE + 1
                endif
            else
                //New damage source - unflag everything
                set u = udg_DamageEventSource
                set udg_DamageEventSource = f
                call DmgEvOnAOEEnd()
                set udg_DamageEventSource = u
            endif
            call GroupAddUnit(udg_DamageEventAOEGroup, udg_DamageEventTarget)
        endif
        if not udg_DmgEvStarted then
            set udg_DmgEvStarted = true
            call TimerStart(udg_DmgEvTimer, 0.00, false, function DmgEvOnExpire)
        endif
    endif
    
    if prevAmount == 0.00 then
        if not udg_HideDamageFrom[GetUnitUserData(udg_DamageEventSource)] then
            set udg_DamageEventPrevAmt = 0.00
            set udg_DamageEvent = 0.00
            set udg_DamageEvent = 2.00
            set udg_DamageEvent = 0.00
        endif
        call DmgEvResetVars()
    else
        set u = udg_DamageEventTarget
        set udg_IsDamageSpell = prevAmount < 0.00
        if udg_IsDamageSpell then
            set prevAmount = -udg_DamageEventAmount
            set life = 1.00
            if IsUnitType(u, UNIT_TYPE_ETHEREAL) and not IsUnitType(u, UNIT_TYPE_HERO) then
                set life = life*udg_DAMAGE_FACTOR_ETHEREAL //1.67
            endif
            if GetUnitAbilityLevel(u, 'Aegr') > 0 then
                set life = life*udg_DAMAGE_FACTOR_ELUNES //0.80
            endif
            if udg_DmgEvBracers != 0 and IsUnitType(u, UNIT_TYPE_HERO) then
                //Inline of UnitHasItemOfTypeBJ without the potential handle ID leak.
                set i = 6
                loop
                    set i = i - 1
                    if GetItemTypeId(UnitItemInSlot(u, i)) == udg_DmgEvBracers then
                        set life = life*udg_DAMAGE_FACTOR_BRACERS //0.67
                        exitwhen true
                    endif
                    exitwhen i == 0
                endloop
            endif
            set udg_DamageEventAmount = prevAmount*life
        endif
        set udg_DamageEventPrevAmt = prevAmount
        set udg_DamageModifierEvent = 0.00
        if not udg_DamageEventOverride then
            set udg_DamageModifierEvent = 1.00
            if not udg_DamageEventOverride then
                set udg_DamageModifierEvent = 2.00
                set udg_DamageModifierEvent = 3.00
            endif
        endif
        set udg_DamageEventOverride = override
        if udg_DamageEventAmount > 0.00 then
            set udg_DamageModifierEvent = 4.00
        endif
        set udg_DamageModifierEvent = 0.00
        if not udg_HideDamageFrom[GetUnitUserData(udg_DamageEventSource)] then
            set udg_DamageEvent = 0.00
            set udg_DamageEvent = 1.00
            set udg_DamageEvent = 0.00
        endif
        call CheckDamagedLifeEvent(true) //in case the unit state event failed from a recursive damage event
        
        //All events have run and the damage amount is finalized.
        set life = GetWidgetLife(u)
        set udg_DmgEvTrig = CreateTrigger()
        call TriggerAddCondition(udg_DmgEvTrig, Filter(function PreCheckDamagedLifeEvent))
        if not udg_IsDamageSpell then
            if udg_DamageEventAmount != prevAmount then
                set life = life + prevAmount - udg_DamageEventAmount
                if GetUnitState(u, UNIT_STATE_MAX_LIFE) < life then
                    set udg_LastDamageHP = life - prevAmount
                    call UnitAddAbility(u, udg_DamageBlockingAbility)
                endif
                call SetWidgetLife(u, RMaxBJ(life, 0.42))
            endif
            call TriggerRegisterUnitStateEvent(udg_DmgEvTrig, u, UNIT_STATE_LIFE, LESS_THAN, RMaxBJ(0.41, life - prevAmount/2.00))
        else
            set udg_LastDamageHP = GetUnitState(u, UNIT_STATE_MAX_LIFE)
            set prevLife = life
            if life + prevAmount*0.75 > udg_LastDamageHP then
                set life = RMaxBJ(udg_LastDamageHP - prevAmount/2.00, 1.00)
                call SetWidgetLife(u, life)
                set life = (life + udg_LastDamageHP)/2.00
            else
                set life = life + prevAmount*0.50
            endif
            set udg_LastDamageHP = prevLife - (prevAmount - (prevAmount - udg_DamageEventAmount))
            call TriggerRegisterUnitStateEvent(udg_DmgEvTrig, u, UNIT_STATE_LIFE, GREATER_THAN, life)
        endif
    endif
    set u = null
    set f = null
    return false
endfunction

function CreateDmgEvTrg takes nothing returns nothing
    set udg_DamageEventTrigger = CreateTrigger()
    call TriggerAddCondition(udg_DamageEventTrigger, Filter(function OnUnitDamage))
endfunction

function SetupDmgEv takes nothing returns boolean
    local integer i = udg_UDex
    local unit u
    if udg_UnitIndexEvent == 1.00 then
        set u = udg_UDexUnits[i]
        if GetUnitAbilityLevel(u, 'Aloc') == 0 and TriggerEvaluate(gg_trg_Damage_Engine_Config) then
            set udg_UnitDamageRegistered[i] = true
            call TriggerRegisterUnitEvent(udg_DamageEventTrigger, u, EVENT_UNIT_DAMAGED)
            call UnitAddAbility(u, udg_SpellDamageAbility)
            call UnitMakeAbilityPermanent(u, true, udg_SpellDamageAbility)
        endif
        set u = null
    else
        set udg_HideDamageFrom[i] = false
        if udg_UnitDamageRegistered[i] then
            set udg_UnitDamageRegistered[i] = false
            set udg_DamageEventsWasted = udg_DamageEventsWasted + 1
            if udg_DamageEventsWasted == 32 then //After 32 registered units have been removed...
                set udg_DamageEventsWasted = 0
                
                //Rebuild the mass EVENT_UNIT_DAMAGED trigger:
                call DestroyTrigger(udg_DamageEventTrigger)
                call CreateDmgEvTrg()
                set i = udg_UDexNext[0]
                loop
                    exitwhen i == 0
                    if udg_UnitDamageRegistered[i] then
                        call TriggerRegisterUnitEvent(udg_DamageEventTrigger, udg_UDexUnits[i], EVENT_UNIT_DAMAGED)
                    endif
                    set i = udg_UDexNext[i]
                endloop
            endif
        endif
    endif
    return false
endfunction
    
//===========================================================================
function InitTrig_Damage_Engine takes nothing returns nothing
    local unit u = CreateUnit(Player(bj_PLAYER_NEUTRAL_EXTRA), 'uloc', 0, 0, 0)
    local integer i = bj_MAX_PLAYERS //Fixed in 3.8
    
    //Create this trigger with UnitIndexEvents in order add and remove units
    //as they are created or removed.
    local trigger t = CreateTrigger()
    call TriggerRegisterVariableEvent(t, "udg_UnitIndexEvent", EQUAL, 1.00)
    call TriggerRegisterVariableEvent(t, "udg_UnitIndexEvent", EQUAL, 2.00)
    call TriggerAddCondition(t, Filter(function SetupDmgEv))
    set t = null
    
    //Run the configuration trigger to set all configurables:
    if gg_trg_Damage_Engine_Config == null then
        //It's possible this InitTrig_ function ran first, in which case use ExecuteFunc.
        call ExecuteFunc("Trig_Damage_Engine_Config_Actions")
    else
        call TriggerExecute(gg_trg_Damage_Engine_Config)
    endif
    
    //Create trigger for storing all EVENT_UNIT_DAMAGED events.
    call CreateDmgEvTrg()
    
    //Create GUI-friendly trigger for cleaning up after UnitDamageTarget.
    set udg_ClearDamageEvent = CreateTrigger()
    call TriggerAddCondition(udg_ClearDamageEvent, Filter(function PreCheckDamagedLifeEvent))
    
    //Disable SpellDamageAbility for every player.
    loop
        set i = i - 1
        call SetPlayerAbilityAvailable(Player(i), udg_SpellDamageAbility, false)
        exitwhen i == 0
    endloop
    
    //Preload abilities.
    call UnitAddAbility(u, udg_DamageBlockingAbility)
    call UnitAddAbility(u, udg_SpellDamageAbility)
    call RemoveUnit(u)
    set u = null
endfunction//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Win(  )
    call InitTrig_Building_changes_first(  )
    call InitTrig_Building_changes(  )
    call InitTrig_Building_dies(  )
    call InitTrig_Gustav_cannon(  )
    call InitTrig_bonuses(  )
    call InitTrig_Trench_fire(  )
    call InitTrig_rio_bonus(  )
    call InitTrig_rio_bonus_Flamethrower(  )
    call InitTrig_Flamethrower_victim(  )
    call InitTrig_Flamethrower_antfire(  )
    call InitTrig_Tree(  )
    call InitTrig_Flamethrower(  )
    call InitTrig_Ecuatorian(  )
    call InitTrig_Housesandbarracks(  )
    call InitTrig_Industrias(  )
    call InitTrig_Granjas(  )
    call InitTrig_Ascienda(  )
    call InitTrig_Empresa_leera(  )
    call InitTrig_Coorporacion_leera(  )
    call InitTrig_Warfare(  )
    call InitTrig_Guerilla_tactic(  )
    call InitTrig_City_a1_Copiar_2(  )
    call InitTrig_City_a1_Copiar_2_Copiar(  )
    call InitTrig_Resource_Points_Copiar_2(  )
    call InitTrig_Resource_Points_Copiar(  )
    call InitTrig_Resource_Points_Copiar_Copiar_2_Copiar_2(  )
    call InitTrig_neutral(  )
    call InitTrig_ally(  )
    call InitTrig_unally(  )
    call InitTrig_dummy(  )
    call InitTrig_Unit_Indexer(  )
    call InitTrig_Damage_Engine_Config(  )
    call InitTrig_Damage_Engine(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Building_changes_first )
    call ConditionalTriggerExecute( gg_trg_Unit_Indexer )
    call ConditionalTriggerExecute( gg_trg_Damage_Engine )
endfunction

//***************************************************************************
//*
//*  Upgrades
//*
//***************************************************************************

function InitUpgrades_Player2 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(2), 'R001', 0 )
endfunction

function InitUpgrades takes nothing returns nothing
    call InitUpgrades_Player2(  )
endfunction

//***************************************************************************
//*
//*  TechTree
//*
//***************************************************************************

function InitTechTree_Player0 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(0), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h012', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(0), 'h02O', 0 )
endfunction

function InitTechTree_Player1 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(1), 'h015', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(1), 'h02O', 0 )
endfunction

function InitTechTree_Player2 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(2), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h00R', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(2), 'h02O', 0 )
endfunction

function InitTechTree_Player3 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(3), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h016', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(3), 'h02O', 0 )
endfunction

function InitTechTree_Player4 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(4), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h02D', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(4), 'h02O', 0 )
endfunction

function InitTechTree_Player5 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(5), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h00W', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(5), 'h02O', 0 )
endfunction

function InitTechTree_Player6 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(6), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h019', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h01C', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(6), 'h02O', 0 )
endfunction

function InitTechTree_Player7 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(7), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01M', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(7), 'h02O', 0 )
endfunction

function InitTechTree_Player9 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(9), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01U', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01T', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h00S', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(9), 'h02O', 0 )
endfunction

function InitTechTree_Player11 takes nothing returns nothing
    call SetPlayerTechMaxAllowed( Player(11), 'h015', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01O', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01P', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01R', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h016', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01S', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h014', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01V', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01W', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01X', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h01Z', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h020', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h027', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h00T', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h02I', 0 )
    call SetPlayerTechMaxAllowed( Player(11), 'h02O', 0 )
endfunction

function InitTechTree takes nothing returns nothing
    call InitTechTree_Player0(  )
    call InitTechTree_Player1(  )
    call InitTechTree_Player2(  )
    call InitTechTree_Player3(  )
    call InitTechTree_Player4(  )
    call InitTechTree_Player5(  )
    call InitTechTree_Player6(  )
    call InitTechTree_Player7(  )
    call InitTechTree_Player9(  )
    call InitTechTree_Player11(  )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(0), false )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 1
    call SetPlayerStartLocation( Player(1), 1 )
    call ForcePlayerStartLocation( Player(1), 1 )
    call SetPlayerColor( Player(1), ConvertPlayerColor(1) )
    call SetPlayerRacePreference( Player(1), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(1), false )
    call SetPlayerController( Player(1), MAP_CONTROL_USER )

    // Player 2
    call SetPlayerStartLocation( Player(2), 2 )
    call ForcePlayerStartLocation( Player(2), 2 )
    call SetPlayerColor( Player(2), ConvertPlayerColor(2) )
    call SetPlayerRacePreference( Player(2), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(2), false )
    call SetPlayerController( Player(2), MAP_CONTROL_USER )

    // Player 3
    call SetPlayerStartLocation( Player(3), 3 )
    call ForcePlayerStartLocation( Player(3), 3 )
    call SetPlayerColor( Player(3), ConvertPlayerColor(3) )
    call SetPlayerRacePreference( Player(3), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(3), false )
    call SetPlayerController( Player(3), MAP_CONTROL_USER )

    // Player 4
    call SetPlayerStartLocation( Player(4), 4 )
    call ForcePlayerStartLocation( Player(4), 4 )
    call SetPlayerColor( Player(4), ConvertPlayerColor(4) )
    call SetPlayerRacePreference( Player(4), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(4), false )
    call SetPlayerController( Player(4), MAP_CONTROL_USER )

    // Player 5
    call SetPlayerStartLocation( Player(5), 5 )
    call ForcePlayerStartLocation( Player(5), 5 )
    call SetPlayerColor( Player(5), ConvertPlayerColor(5) )
    call SetPlayerRacePreference( Player(5), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(5), false )
    call SetPlayerController( Player(5), MAP_CONTROL_USER )

    // Player 6
    call SetPlayerStartLocation( Player(6), 6 )
    call ForcePlayerStartLocation( Player(6), 6 )
    call SetPlayerColor( Player(6), ConvertPlayerColor(6) )
    call SetPlayerRacePreference( Player(6), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(6), false )
    call SetPlayerController( Player(6), MAP_CONTROL_USER )

    // Player 7
    call SetPlayerStartLocation( Player(7), 7 )
    call ForcePlayerStartLocation( Player(7), 7 )
    call SetPlayerColor( Player(7), ConvertPlayerColor(7) )
    call SetPlayerRacePreference( Player(7), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(7), false )
    call SetPlayerController( Player(7), MAP_CONTROL_USER )

    // Player 9
    call SetPlayerStartLocation( Player(9), 8 )
    call ForcePlayerStartLocation( Player(9), 8 )
    call SetPlayerColor( Player(9), ConvertPlayerColor(9) )
    call SetPlayerRacePreference( Player(9), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(9), false )
    call SetPlayerController( Player(9), MAP_CONTROL_USER )

    // Player 11
    call SetPlayerStartLocation( Player(11), 9 )
    call ForcePlayerStartLocation( Player(11), 9 )
    call SetPlayerColor( Player(11), ConvertPlayerColor(11) )
    call SetPlayerRacePreference( Player(11), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(11), false )
    call SetPlayerController( Player(11), MAP_CONTROL_USER )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_016
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(1), 0 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(0), Player(1), true )
    call SetPlayerAllianceStateAllyBJ( Player(1), Player(0), true )

    // Force: TRIGSTR_017
    call SetPlayerTeam( Player(6), 1 )
    call SetPlayerTeam( Player(7), 1 )
    call SetPlayerTeam( Player(9), 1 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(6), Player(7), true )
    call SetPlayerAllianceStateAllyBJ( Player(6), Player(9), true )
    call SetPlayerAllianceStateAllyBJ( Player(7), Player(6), true )
    call SetPlayerAllianceStateAllyBJ( Player(7), Player(9), true )
    call SetPlayerAllianceStateAllyBJ( Player(9), Player(6), true )
    call SetPlayerAllianceStateAllyBJ( Player(9), Player(7), true )

    // Force: TRIGSTR_018
    call SetPlayerTeam( Player(2), 2 )
    call SetPlayerTeam( Player(3), 2 )
    call SetPlayerTeam( Player(11), 2 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(2), Player(3), true )
    call SetPlayerAllianceStateAllyBJ( Player(2), Player(11), true )
    call SetPlayerAllianceStateAllyBJ( Player(3), Player(2), true )
    call SetPlayerAllianceStateAllyBJ( Player(3), Player(11), true )
    call SetPlayerAllianceStateAllyBJ( Player(11), Player(2), true )
    call SetPlayerAllianceStateAllyBJ( Player(11), Player(3), true )

    // Force: TRIGSTR_019
    call SetPlayerTeam( Player(4), 3 )
    call SetPlayerTeam( Player(5), 3 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(4), Player(5), true )
    call SetPlayerAllianceStateAllyBJ( Player(5), Player(4), true )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetStartLocPrioCount( 0, 5 )
    call SetStartLocPrio( 0, 0, 1, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 1, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 0, 2, 7, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 0, 3, 8, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 0, 4, 9, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 1, 1 )
    call SetStartLocPrio( 1, 0, 8, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 2, 3 )
    call SetStartLocPrio( 2, 0, 3, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 2, 1, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 2, 2, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 3, 1 )
    call SetStartLocPrio( 3, 0, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 4, 1 )
    call SetStartLocPrio( 4, 0, 2, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 5, 5 )
    call SetStartLocPrio( 5, 0, 4, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 1, 6, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 2, 7, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 5, 3, 8, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 5, 4, 9, MAP_LOC_PRIO_LOW )

    call SetStartLocPrioCount( 6, 2 )
    call SetStartLocPrio( 6, 0, 1, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 6, 1, 8, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 7, 1 )
    call SetStartLocPrio( 7, 0, 9, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 8, 1 )
    call SetStartLocPrio( 8, 0, 1, MAP_LOC_PRIO_HIGH )

    call SetStartLocPrioCount( 9, 3 )
    call SetStartLocPrio( 9, 0, 2, MAP_LOC_PRIO_LOW )
    call SetStartLocPrio( 9, 1, 3, MAP_LOC_PRIO_HIGH )
    call SetStartLocPrio( 9, 2, 7, MAP_LOC_PRIO_HIGH )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -5888.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 5376.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 5120.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 5120.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 5376.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -5888.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call NewSoundEnvironment( "Default" )
    call SetAmbientDaySound( "LordaeronSummerDay" )
    call SetAmbientNightSound( "LordaeronSummerNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call InitUpgrades(  )
    call InitTechTree(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_001" )
    call SetMapDescription( "TRIGSTR_003" )
    call SetPlayers( 10 )
    call SetTeams( 10 )
    call SetGamePlacement( MAP_PLACEMENT_TEAMS_TOGETHER )

    call DefineStartLocation( 0, -2304.0, -2752.0 )
    call DefineStartLocation( 1, 128.0, -1792.0 )
    call DefineStartLocation( 2, -3840.0, 2560.0 )
    call DefineStartLocation( 3, -3904.0, 64.0 )
    call DefineStartLocation( 4, -2496.0, 3584.0 )
    call DefineStartLocation( 5, 1216.0, 3712.0 )
    call DefineStartLocation( 6, 2432.0, 512.0 )
    call DefineStartLocation( 7, -960.0, 896.0 )
    call DefineStartLocation( 8, 1024.0, -1216.0 )
    call DefineStartLocation( 9, -2560.0, 960.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

